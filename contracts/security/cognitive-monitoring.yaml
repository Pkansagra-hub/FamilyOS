openapi: 3.1.0
info:
  title: MemoryOS Cognitive Monitoring Safety Contract
  version: "1.0.0"
  description: |
    **Memory-Centric Family AI Cognitive Monitoring Safety Contract**

    This contract defines cognitive monitoring and safety capabilities for the Memory-Centric Family AI system,
    providing comprehensive behavioral pattern detection, family safety coordination, intervention systems,
    and memory-driven cognitive health analysis with family protection protocols.

    **Memory-Driven Cognitive Safety Architecture:**
    - **Memory Backbone Cognitive Monitoring**: Cognitive patterns analyzed through memory experiences
    - **Memory-Enhanced Behavioral Detection**: Behavioral anomalies detected using memory baselines
    - **Memory-Driven Family Safety Coordination**: Safety measures coordinated across family memory context
    - **Family Memory Intervention Systems**: Interventions guided by family memory and relationship patterns
    - **Memory-Based Cognitive Health Assessment**: Cognitive health monitored through memory pattern analysis

    **Cognitive Safety Categories:**
    1. **Memory-Informed Behavioral Pattern Detection**: Detecting concerning patterns through memory analysis
    2. **Memory-Driven Family Safety Coordination**: Family-wide safety coordination with memory insights
    3. **Memory-Enhanced Intervention Systems**: Intervention strategies based on memory-driven insights
    4. **Memory-Based Cognitive Health Monitoring**: Ongoing cognitive health assessment through memory
    5. **Memory-Coordinated Risk Assessment**: Risk assessment using family memory and behavioral patterns
    6. **Memory-Driven Wellness Tracking**: Wellness monitoring with memory pattern correlation
    7. **Memory-Enhanced Crisis Detection**: Crisis detection using memory-based behavioral baselines

    **Family Intelligence Integration:**
    - Cognitive monitoring coordinated through family memory backbone
    - Safety interventions informed by family relationship patterns and shared experiences
    - Behavioral analysis enhanced by family context and memory-driven insights
    - Risk assessment coordinated across family members with memory validation

servers:
  - url: https://api.memoryos.family/v1
    description: MemoryOS Family AI Cognitive Monitoring Safety API

paths:
  /safety/cognitive/monitoring:
    get:
      summary: Get Memory-Enhanced Cognitive Monitoring Overview
      description: |
        Retrieve cognitive monitoring overview with memory-driven insights,
        family safety coordination status, and behavioral pattern analysis.
      operationId: getMemoryEnhancedCognitiveMonitoringOverview
      security:
        - BearerAuth: []
      parameters:
        - name: monitoring_scope
          in: query
          schema:
            type: string
            enum: [individual, family, comprehensive, emergency]
            default: family
          description: Scope of cognitive monitoring
        - name: time_range
          in: query
          schema:
            type: string
            enum: [hour, day, week, month, quarter, ongoing]
            default: week
          description: Time range for monitoring analysis
        - name: include_memory_insights
          in: query
          schema:
            type: boolean
            default: true
          description: Include memory-driven insights
        - name: analysis_depth
          in: query
          schema:
            type: string
            enum: [summary, standard, detailed, comprehensive]
            default: standard
          description: Depth of monitoring analysis
      responses:
        '200':
          description: Cognitive monitoring overview retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CognitiveMonitoringOverviewResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'

  /safety/cognitive/patterns:
    get:
      summary: Get Memory-Driven Behavioral Pattern Analysis
      description: |
        Retrieve behavioral pattern analysis with memory-driven baselines,
        family context comparison, and anomaly detection results.
      operationId: getMemoryDrivenBehavioralPatternAnalysis
      security:
        - BearerAuth: []
      parameters:
        - name: pattern_type
          in: query
          schema:
            type: string
            enum: [communication, interaction, learning, emotional, cognitive, behavioral, all]
            default: all
          description: Type of behavioral patterns to analyze
        - name: family_member_id
          in: query
          schema:
            type: string
            format: uuid
          description: Specific family member to analyze
        - name: comparison_baseline
          in: query
          schema:
            type: string
            enum: [memory_baseline, family_baseline, individual_baseline, population_baseline]
            default: memory_baseline
          description: Baseline for pattern comparison
      responses:
        '200':
          description: Behavioral pattern analysis retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BehavioralPatternAnalysisResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'

  /safety/cognitive/patterns/anomalies:
    get:
      summary: Get Memory-Based Cognitive Anomaly Detection
      description: |
        Retrieve cognitive anomaly detection results with memory-based analysis,
        family context consideration, and intervention recommendations.
      operationId: getMemoryBasedCognitiveAnomalyDetection
      security:
        - BearerAuth: []
      parameters:
        - name: anomaly_severity
          in: query
          schema:
            type: string
            enum: [low, moderate, high, critical, all]
            default: all
          description: Minimum anomaly severity level
        - name: detection_timeframe
          in: query
          schema:
            type: string
            enum: [real_time, recent, trending, historical]
            default: recent
          description: Timeframe for anomaly detection
        - name: family_context_analysis
          in: query
          schema:
            type: boolean
            default: true
          description: Include family context analysis
      responses:
        '200':
          description: Cognitive anomaly detection results retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CognitiveAnomalyDetectionResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'

  /safety/cognitive/health:
    get:
      summary: Get Memory-Coordinated Cognitive Health Assessment
      description: |
        Retrieve cognitive health assessment with memory pattern correlation,
        family wellness coordination, and health trend analysis.
      operationId: getMemoryCoordinatedCognitiveHealthAssessment
      security:
        - BearerAuth: []
      parameters:
        - name: assessment_scope
          in: query
          schema:
            type: string
            enum: [individual, family, comprehensive, wellness_focused]
            default: family
          description: Scope of cognitive health assessment
        - name: health_dimensions
          in: query
          schema:
            type: array
            items:
              type: string
              enum: [attention, memory, learning, emotional, social, cognitive_load, stress, engagement]
          description: Specific health dimensions to assess
        - name: include_trends
          in: query
          schema:
            type: boolean
            default: true
          description: Include health trend analysis
      responses:
        '200':
          description: Cognitive health assessment retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CognitiveHealthAssessmentResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'

  /safety/cognitive/interventions:
    get:
      summary: Get Family Memory-Driven Intervention Recommendations
      description: |
        Retrieve intervention recommendations with family memory context,
        relationship-based strategies, and cognitive safety protocols.
      operationId: getFamilyMemoryDrivenInterventionRecommendations
      security:
        - BearerAuth: []
      parameters:
        - name: intervention_urgency
          in: query
          schema:
            type: string
            enum: [routine, recommended, urgent, immediate, crisis]
            default: recommended
          description: Minimum intervention urgency level
        - name: intervention_type
          in: query
          schema:
            type: string
            enum: [preventive, supportive, corrective, crisis, all]
            default: all
          description: Type of interventions to include
        - name: family_coordination_level
          in: query
          schema:
            type: string
            enum: [individual, family_aware, family_involved, family_coordinated]
            default: family_coordinated
          description: Level of family coordination required
      responses:
        '200':
          description: Intervention recommendations retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InterventionRecommendationsResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'

    post:
      summary: Initiate Memory-Coordinated Safety Intervention
      description: |
        Initiate safety intervention with memory coordination,
        family involvement protocols, and cognitive support strategies.
      operationId: initiateMemoryCoordinatedSafetyIntervention
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SafetyInterventionInitiationRequest'
      responses:
        '202':
          description: Safety intervention initiated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SafetyInterventionInitiationResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'

  /safety/cognitive/interventions/{interventionId}:
    get:
      summary: Get Memory-Enhanced Intervention Status
      description: |
        Retrieve intervention status with memory-driven progress tracking,
        family coordination updates, and effectiveness analysis.
      operationId: getMemoryEnhancedInterventionStatus
      security:
        - BearerAuth: []
      parameters:
        - name: interventionId
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Unique intervention identifier
      responses:
        '200':
          description: Intervention status retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InterventionStatusResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

    patch:
      summary: Update Intervention with Family Memory Coordination
      description: |
        Update intervention with family memory coordination,
        adaptive strategy adjustment, and progress optimization.
      operationId: updateInterventionWithFamilyMemoryCoordination
      security:
        - BearerAuth: []
      parameters:
        - name: interventionId
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Unique intervention identifier
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/InterventionUpdateRequest'
      responses:
        '200':
          description: Intervention updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InterventionUpdateResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

  /safety/cognitive/risk-assessment:
    get:
      summary: Get Memory-Driven Cognitive Risk Assessment
      description: |
        Retrieve cognitive risk assessment with memory pattern analysis,
        family context consideration, and predictive risk modeling.
      operationId: getMemoryDrivenCognitiveRiskAssessment
      security:
        - BearerAuth: []
      parameters:
        - name: risk_categories
          in: query
          schema:
            type: array
            items:
              type: string
              enum: [cognitive_decline, behavioral_changes, emotional_distress, social_isolation, learning_difficulties, attention_issues]
          description: Specific risk categories to assess
        - name: assessment_timeframe
          in: query
          schema:
            type: string
            enum: [immediate, short_term, medium_term, long_term, comprehensive]
            default: comprehensive
          description: Timeframe for risk assessment
        - name: family_context_weight
          in: query
          schema:
            type: number
            minimum: 0
            maximum: 1
            default: 0.7
          description: Weight given to family context in assessment
      responses:
        '200':
          description: Cognitive risk assessment retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CognitiveRiskAssessmentResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'

  /safety/cognitive/wellness:
    get:
      summary: Get Family Memory-Coordinated Wellness Tracking
      description: |
        Retrieve family wellness tracking with memory pattern correlation,
        cognitive health trends, and family well-being coordination.
      operationId: getFamilyMemoryCoordinatedWellnessTracking
      security:
        - BearerAuth: []
      parameters:
        - name: wellness_dimensions
          in: query
          schema:
            type: array
            items:
              type: string
              enum: [cognitive_performance, emotional_well_being, social_connection, learning_progress, stress_levels, engagement_quality]
          description: Wellness dimensions to track
        - name: tracking_period
          in: query
          schema:
            type: string
            enum: [daily, weekly, monthly, quarterly, ongoing]
            default: weekly
          description: Wellness tracking period
        - name: family_coordination_insights
          in: query
          schema:
            type: boolean
            default: true
          description: Include family coordination insights
      responses:
        '200':
          description: Family wellness tracking retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FamilyWellnessTrackingResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'

  /safety/cognitive/crisis:
    post:
      summary: Report Cognitive Crisis with Family Emergency Coordination
      description: |
        Report cognitive crisis with immediate family emergency coordination,
        memory-based crisis assessment, and intervention protocol activation.
      operationId: reportCognitiveCrisis withFamilyEmergencyCoordination
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CognitiveCrisisReportRequest'
      responses:
        '202':
          description: Cognitive crisis reported and response initiated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CognitiveCrisisReportResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'

  /safety/cognitive/crisis/status:
    get:
      summary: Get Family Crisis Response Status
      description: |
        Retrieve crisis response status with family coordination updates,
        intervention progress, and emergency protocol status.
      operationId: getFamilyCrisisResponseStatus
      security:
        - BearerAuth: []
      parameters:
        - name: crisis_id
          in: query
          schema:
            type: string
            format: uuid
          description: Specific crisis identifier
        - name: status_detail_level
          in: query
          schema:
            type: string
            enum: [summary, detailed, comprehensive, emergency_briefing]
            default: detailed
          description: Level of status detail
      responses:
        '200':
          description: Crisis response status retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CrisisResponseStatusResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'

  /safety/cognitive/alerts:
    get:
      summary: Get Memory-Based Cognitive Safety Alerts
      description: |
        Retrieve cognitive safety alerts with memory-driven prioritization,
        family context awareness, and intervention readiness status.
      operationId: getMemoryBasedCognitiveSafetyAlerts
      security:
        - BearerAuth: []
      parameters:
        - name: alert_priority
          in: query
          schema:
            type: string
            enum: [low, medium, high, critical, emergency, all]
            default: all
          description: Minimum alert priority level
        - name: alert_category
          in: query
          schema:
            type: string
            enum: [behavioral, cognitive, emotional, social, health, crisis, all]
            default: all
          description: Category of safety alerts
        - name: time_scope
          in: query
          schema:
            type: string
            enum: [active, recent, historical, trending]
            default: active
          description: Time scope for alerts
      responses:
        '200':
          description: Cognitive safety alerts retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CognitiveSafetyAlertsResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'

components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

  schemas:
    CognitiveMonitoringOverviewResponse:
      type: object
      properties:
        family_id:
          type: string
          format: uuid
          description: Family identifier
        monitoring_period:
          type: object
          description: Monitoring time period information
        cognitive_health_overview:
          type: object
          description: Overall cognitive health status
        behavioral_pattern_summary:
          type: object
          description: Summary of behavioral patterns
        family_safety_coordination_status:
          type: object
          description: Family safety coordination status
        memory_driven_insights:
          type: object
          description: Memory-driven monitoring insights
        anomaly_detection_summary:
          type: object
          description: Summary of anomaly detection results
        intervention_status_overview:
          type: object
          description: Overview of active interventions
        risk_assessment_summary:
          type: object
          description: Summary of risk assessments
        wellness_tracking_overview:
          type: object
          description: Family wellness tracking overview
        safety_recommendations:
          type: array
          items:
            type: object
          description: Safety recommendations
        monitoring_effectiveness:
          type: object
          description: Monitoring system effectiveness metrics

    BehavioralPatternAnalysisResponse:
      type: object
      properties:
        analysis_scope:
          type: object
          description: Scope of behavioral pattern analysis
        detected_patterns:
          type: array
          items:
            $ref: '#/components/schemas/BehavioralPattern'
          description: Detected behavioral patterns
        memory_baseline_comparison:
          type: object
          description: Comparison with memory-based baselines
        family_context_analysis:
          type: object
          description: Family context analysis
        pattern_significance:
          type: object
          description: Statistical significance of patterns
        trend_analysis:
          type: object
          description: Temporal trend analysis
        anomaly_indicators:
          type: object
          description: Potential anomaly indicators
        intervention_recommendations:
          type: array
          items:
            type: object
          description: Pattern-based intervention recommendations
        pattern_correlation:
          type: object
          description: Correlation between different patterns
        family_influence_analysis:
          type: object
          description: Analysis of family influence on patterns

    BehavioralPattern:
      type: object
      properties:
        pattern_id:
          type: string
          format: uuid
          description: Unique pattern identifier
        pattern_type:
          type: string
          enum: [communication, interaction, learning, emotional, cognitive, behavioral, social]
          description: Type of behavioral pattern
        pattern_description:
          type: string
          description: Description of the pattern
        detection_confidence:
          type: number
          minimum: 0
          maximum: 1
          description: Confidence level of pattern detection
        significance_score:
          type: number
          minimum: 0
          maximum: 1
          description: Significance score of the pattern
        temporal_characteristics:
          type: object
          description: Temporal characteristics of the pattern
        frequency_analysis:
          type: object
          description: Frequency analysis of pattern occurrence
        memory_correlation:
          type: object
          description: Correlation with memory patterns
        family_context_relevance:
          type: object
          description: Relevance to family context
        deviation_from_baseline:
          type: object
          description: Deviation from established baselines
        associated_triggers:
          type: array
          items:
            type: object
          description: Associated triggers for the pattern
        impact_assessment:
          type: object
          description: Assessment of pattern impact

    CognitiveAnomalyDetectionResponse:
      type: object
      properties:
        detection_period:
          type: object
          description: Anomaly detection time period
        detected_anomalies:
          type: array
          items:
            $ref: '#/components/schemas/CognitiveAnomaly'
          description: Detected cognitive anomalies
        anomaly_classification:
          type: object
          description: Classification of detected anomalies
        severity_distribution:
          type: object
          description: Distribution of anomaly severities
        family_context_influence:
          type: object
          description: Family context influence on anomalies
        memory_pattern_correlation:
          type: object
          description: Correlation with memory patterns
        trend_analysis:
          type: object
          description: Temporal trend analysis of anomalies
        intervention_urgency_assessment:
          type: object
          description: Assessment of intervention urgency
        false_positive_analysis:
          type: object
          description: False positive analysis and filtering
        anomaly_clustering:
          type: object
          description: Clustering analysis of related anomalies

    CognitiveAnomaly:
      type: object
      properties:
        anomaly_id:
          type: string
          format: uuid
          description: Unique anomaly identifier
        anomaly_type:
          type: string
          enum: [behavioral, cognitive, emotional, social, learning, attention, memory]
          description: Type of cognitive anomaly
        severity_level:
          type: string
          enum: [low, moderate, high, critical]
          description: Severity level of the anomaly
        confidence_score:
          type: number
          minimum: 0
          maximum: 1
          description: Confidence in anomaly detection
        detection_timestamp:
          type: string
          format: date-time
          description: When the anomaly was detected
        description:
          type: string
          description: Description of the anomaly
        affected_domains:
          type: array
          items:
            type: string
          description: Cognitive domains affected
        baseline_deviation:
          type: object
          description: Deviation from baseline patterns
        memory_context:
          type: object
          description: Memory context related to anomaly
        family_impact_potential:
          type: object
          description: Potential impact on family
        recommended_actions:
          type: array
          items:
            type: object
          description: Recommended actions for the anomaly
        persistence_indicators:
          type: object
          description: Indicators of anomaly persistence

    CognitiveHealthAssessmentResponse:
      type: object
      properties:
        assessment_scope:
          type: object
          description: Scope of cognitive health assessment
        overall_health_score:
          type: object
          description: Overall cognitive health score
        dimension_assessments:
          type: array
          items:
            $ref: '#/components/schemas/CognitiveHealthDimension'
          description: Assessment of specific health dimensions
        memory_pattern_health_correlation:
          type: object
          description: Correlation between memory patterns and health
        family_wellness_coordination:
          type: object
          description: Family wellness coordination analysis
        health_trends:
          type: object
          description: Cognitive health trends over time
        risk_factors:
          type: array
          items:
            type: object
          description: Identified cognitive health risk factors
        protective_factors:
          type: array
          items:
            type: object
          description: Identified protective factors
        intervention_effectiveness:
          type: object
          description: Effectiveness of current interventions
        wellness_recommendations:
          type: array
          items:
            type: object
          description: Wellness improvement recommendations

    CognitiveHealthDimension:
      type: object
      properties:
        dimension_name:
          type: string
          enum: [attention, memory, learning, emotional, social, cognitive_load, stress, engagement]
          description: Name of the health dimension
        health_score:
          type: number
          minimum: 0
          maximum: 1
          description: Health score for this dimension
        assessment_confidence:
          type: number
          minimum: 0
          maximum: 1
          description: Confidence in the assessment
        trend_direction:
          type: string
          enum: [improving, stable, declining, fluctuating]
          description: Trend direction for this dimension
        memory_correlation:
          type: object
          description: Correlation with memory patterns
        family_context_influence:
          type: object
          description: Family context influence on dimension
        baseline_comparison:
          type: object
          description: Comparison with baseline measurements
        contributing_factors:
          type: array
          items:
            type: object
          description: Factors contributing to dimension health
        improvement_opportunities:
          type: array
          items:
            type: object
          description: Opportunities for improvement

    InterventionRecommendationsResponse:
      type: object
      properties:
        recommendation_context:
          type: object
          description: Context for intervention recommendations
        prioritized_interventions:
          type: array
          items:
            $ref: '#/components/schemas/InterventionRecommendation'
          description: Prioritized intervention recommendations
        family_coordination_strategies:
          type: object
          description: Family coordination strategies
        memory_driven_insights:
          type: object
          description: Memory-driven intervention insights
        intervention_readiness_assessment:
          type: object
          description: Assessment of intervention readiness
        resource_requirements:
          type: object
          description: Resource requirements for interventions
        expected_outcomes:
          type: object
          description: Expected outcomes from interventions
        success_metrics:
          type: array
          items:
            type: object
          description: Metrics for measuring intervention success
        alternative_approaches:
          type: array
          items:
            type: object
          description: Alternative intervention approaches

    InterventionRecommendation:
      type: object
      properties:
        recommendation_id:
          type: string
          format: uuid
          description: Unique recommendation identifier
        intervention_type:
          type: string
          enum: [preventive, supportive, corrective, crisis, therapeutic]
          description: Type of intervention
        urgency_level:
          type: string
          enum: [routine, recommended, urgent, immediate, crisis]
          description: Urgency level of intervention
        description:
          type: string
          description: Description of the intervention
        target_outcomes:
          type: array
          items:
            type: string
          description: Target outcomes for the intervention
        family_involvement_level:
          type: string
          enum: [individual, family_aware, family_involved, family_coordinated]
          description: Required level of family involvement
        memory_integration_approach:
          type: object
          description: How memory should be integrated
        implementation_strategy:
          type: object
          description: Strategy for implementing intervention
        duration_estimate:
          type: object
          description: Estimated duration of intervention
        resource_requirements:
          type: object
          description: Required resources for intervention
        success_indicators:
          type: array
          items:
            type: object
          description: Indicators of intervention success

    SafetyInterventionInitiationRequest:
      type: object
      required:
        - intervention_type
        - target_concern
      properties:
        intervention_type:
          type: string
          enum: [preventive, supportive, corrective, crisis, therapeutic]
          description: Type of safety intervention
        target_concern:
          type: object
          description: Target concern to address
        urgency_level:
          type: string
          enum: [routine, recommended, urgent, immediate, crisis]
          description: Urgency level of intervention
        family_involvement_preferences:
          type: object
          description: Family involvement preferences
        memory_integration_settings:
          type: object
          description: Memory integration settings
        intervention_scope:
          type: object
          description: Scope of the intervention
        coordination_requirements:
          type: object
          description: Coordination requirements
        success_criteria:
          type: array
          items:
            type: object
          description: Success criteria for intervention

    SafetyInterventionInitiationResponse:
      type: object
      required:
        - intervention_id
        - initiation_status
      properties:
        intervention_id:
          type: string
          format: uuid
          description: Initiated intervention identifier
        initiation_status:
          type: string
          enum: [initiated, pending_approval, requires_escalation, failed]
          description: Intervention initiation status
        intervention_plan:
          type: object
          description: Detailed intervention plan
        family_coordination_setup:
          type: object
          description: Family coordination setup
        memory_integration_configuration:
          type: object
          description: Memory integration configuration
        monitoring_schedule:
          type: object
          description: Monitoring schedule for intervention
        next_steps:
          type: array
          items:
            type: object
          description: Next steps in intervention process
        estimated_timeline:
          type: object
          description: Estimated intervention timeline

    InterventionStatusResponse:
      type: object
      properties:
        intervention_details:
          $ref: '#/components/schemas/InterventionDetails'
        current_status:
          type: object
          description: Current intervention status
        progress_metrics:
          type: object
          description: Progress metrics and indicators
        family_coordination_status:
          type: object
          description: Family coordination status
        memory_integration_progress:
          type: object
          description: Memory integration progress
        effectiveness_assessment:
          type: object
          description: Assessment of intervention effectiveness
        challenge_indicators:
          type: array
          items:
            type: object
          description: Indicators of intervention challenges
        adaptation_recommendations:
          type: array
          items:
            type: object
          description: Recommendations for intervention adaptation
        next_milestones:
          type: array
          items:
            type: object
          description: Next intervention milestones

    InterventionDetails:
      type: object
      properties:
        intervention_id:
          type: string
          format: uuid
          description: Intervention identifier
        intervention_type:
          type: string
          description: Type of intervention
        start_date:
          type: string
          format: date-time
          description: Intervention start date
        planned_duration:
          type: object
          description: Planned intervention duration
        target_objectives:
          type: array
          items:
            type: object
          description: Target objectives
        family_involvement:
          type: object
          description: Family involvement configuration
        memory_integration:
          type: object
          description: Memory integration configuration
        intervention_strategies:
          type: array
          items:
            type: object
          description: Intervention strategies being used
        monitoring_parameters:
          type: object
          description: Monitoring parameters
        success_metrics:
          type: object
          description: Success measurement metrics

    InterventionUpdateRequest:
      type: object
      properties:
        strategy_adjustments:
          type: object
          description: Adjustments to intervention strategies
        family_coordination_updates:
          type: object
          description: Updates to family coordination
        memory_integration_updates:
          type: object
          description: Updates to memory integration
        timeline_adjustments:
          type: object
          description: Adjustments to intervention timeline
        success_criteria_updates:
          type: object
          description: Updates to success criteria
        escalation_triggers:
          type: object
          description: Updated escalation triggers

    InterventionUpdateResponse:
      type: object
      required:
        - update_status
      properties:
        update_status:
          type: string
          enum: [updated, partially_updated, requires_approval, failed]
          description: Intervention update status
        updated_intervention_details:
          $ref: '#/components/schemas/InterventionDetails'
        change_impact_analysis:
          type: object
          description: Analysis of change impact
        family_coordination_impact:
          type: object
          description: Impact on family coordination
        memory_integration_adjustments:
          type: object
          description: Memory integration adjustments
        effectiveness_projection:
          type: object
          description: Projected effectiveness with updates

    CognitiveRiskAssessmentResponse:
      type: object
      properties:
        assessment_context:
          type: object
          description: Risk assessment context
        overall_risk_profile:
          type: object
          description: Overall cognitive risk profile
        risk_category_assessments:
          type: array
          items:
            $ref: '#/components/schemas/CognitiveRiskCategory'
          description: Assessment of specific risk categories
        memory_based_risk_indicators:
          type: object
          description: Memory-based risk indicators
        family_context_risk_factors:
          type: object
          description: Family context risk factors
        predictive_risk_modeling:
          type: object
          description: Predictive risk modeling results
        mitigation_strategies:
          type: array
          items:
            type: object
          description: Risk mitigation strategies
        monitoring_recommendations:
          type: array
          items:
            type: object
          description: Risk monitoring recommendations
        early_warning_indicators:
          type: array
          items:
            type: object
          description: Early warning indicators

    CognitiveRiskCategory:
      type: object
      properties:
        category_name:
          type: string
          enum: [cognitive_decline, behavioral_changes, emotional_distress, social_isolation, learning_difficulties, attention_issues]
          description: Risk category name
        risk_level:
          type: string
          enum: [low, moderate, high, critical]
          description: Risk level for this category
        risk_score:
          type: number
          minimum: 0
          maximum: 1
          description: Quantitative risk score
        contributing_factors:
          type: array
          items:
            type: object
          description: Factors contributing to risk
        memory_pattern_indicators:
          type: object
          description: Memory pattern indicators of risk
        family_context_influence:
          type: object
          description: Family context influence on risk
        temporal_trends:
          type: object
          description: Temporal trends in risk level
        mitigation_options:
          type: array
          items:
            type: object
          description: Available mitigation options
        monitoring_parameters:
          type: object
          description: Parameters for monitoring this risk

    FamilyWellnessTrackingResponse:
      type: object
      properties:
        family_wellness_overview:
          type: object
          description: Overall family wellness status
        individual_wellness_profiles:
          type: array
          items:
            $ref: '#/components/schemas/IndividualWellnessProfile'
          description: Individual family member wellness profiles
        family_coordination_wellness:
          type: object
          description: Family coordination wellness metrics
        memory_pattern_wellness_correlation:
          type: object
          description: Correlation between memory patterns and wellness
        wellness_trends:
          type: object
          description: Wellness trends over tracking period
        wellness_intervention_effectiveness:
          type: object
          description: Effectiveness of wellness interventions
        family_support_dynamics:
          type: object
          description: Family support dynamics analysis
        wellness_optimization_opportunities:
          type: array
          items:
            type: object
          description: Opportunities for wellness optimization
        wellness_risk_indicators:
          type: array
          items:
            type: object
          description: Wellness risk indicators

    IndividualWellnessProfile:
      type: object
      properties:
        member_id:
          type: string
          format: uuid
          description: Family member identifier
        wellness_scores:
          type: object
          description: Wellness scores across dimensions
        wellness_trends:
          type: object
          description: Individual wellness trends
        memory_wellness_correlation:
          type: object
          description: Memory pattern wellness correlation
        family_influence_on_wellness:
          type: object
          description: Family influence on individual wellness
        wellness_goals_progress:
          type: object
          description: Progress toward wellness goals
        intervention_participation:
          type: object
          description: Participation in wellness interventions
        wellness_challenges:
          type: array
          items:
            type: object
          description: Current wellness challenges
        wellness_strengths:
          type: array
          items:
            type: object
          description: Wellness strengths and assets

    CognitiveCrisisReportRequest:
      type: object
      required:
        - crisis_type
        - severity_level
      properties:
        crisis_type:
          type: string
          enum: [acute_cognitive_decline, severe_behavioral_change, emotional_crisis, safety_concern, learning_crisis, attention_crisis]
          description: Type of cognitive crisis
        severity_level:
          type: string
          enum: [moderate, high, critical, emergency]
          description: Severity level of the crisis
        affected_member_id:
          type: string
          format: uuid
          description: Affected family member identifier
        crisis_description:
          type: string
          description: Description of the crisis situation
        immediate_concerns:
          type: array
          items:
            type: string
          description: Immediate concerns and risks
        family_emergency_coordination_required:
          type: boolean
          default: true
          description: Whether family emergency coordination is required
        memory_context_relevant:
          type: object
          description: Relevant memory context for crisis
        external_support_needed:
          type: boolean
          description: Whether external support is needed
        crisis_timeline:
          type: object
          description: Timeline of crisis development

    CognitiveCrisisReportResponse:
      type: object
      required:
        - crisis_id
        - response_status
      properties:
        crisis_id:
          type: string
          format: uuid
          description: Crisis report identifier
        response_status:
          type: string
          enum: [acknowledged, response_initiated, escalated, external_support_contacted]
          description: Crisis response status
        emergency_protocols_activated:
          type: array
          items:
            type: string
          description: Emergency protocols that were activated
        family_notification_status:
          type: object
          description: Family notification status
        immediate_interventions_initiated:
          type: array
          items:
            type: object
          description: Immediate interventions initiated
        external_support_coordination:
          type: object
          description: External support coordination status
        monitoring_enhancement:
          type: object
          description: Enhanced monitoring measures
        next_steps_timeline:
          type: object
          description: Timeline for next steps

    CrisisResponseStatusResponse:
      type: object
      properties:
        crisis_details:
          type: object
          description: Crisis details and context
        response_timeline:
          type: object
          description: Crisis response timeline
        active_interventions:
          type: array
          items:
            type: object
          description: Currently active interventions
        family_coordination_status:
          type: object
          description: Family coordination status
        external_support_status:
          type: object
          description: External support status
        crisis_resolution_progress:
          type: object
          description: Progress toward crisis resolution
        monitoring_status:
          type: object
          description: Enhanced monitoring status
        risk_mitigation_measures:
          type: array
          items:
            type: object
          description: Active risk mitigation measures
        recovery_planning:
          type: object
          description: Recovery planning status
        lessons_learned:
          type: array
          items:
            type: object
          description: Lessons learned from crisis response

    CognitiveSafetyAlertsResponse:
      type: object
      properties:
        alert_summary:
          type: object
          description: Summary of cognitive safety alerts
        active_alerts:
          type: array
          items:
            $ref: '#/components/schemas/CognitiveSafetyAlert'
          description: Active cognitive safety alerts
        alert_prioritization:
          type: object
          description: Alert prioritization analysis
        family_coordination_alerts:
          type: object
          description: Family coordination related alerts
        memory_based_alert_insights:
          type: object
          description: Memory-based insights for alerts
        alert_trends:
          type: object
          description: Trends in safety alerts
        intervention_readiness:
          type: object
          description: Readiness for alert-based interventions
        alert_escalation_status:
          type: object
          description: Alert escalation status
        alert_resolution_tracking:
          type: object
          description: Tracking of alert resolution

    CognitiveSafetyAlert:
      type: object
      properties:
        alert_id:
          type: string
          format: uuid
          description: Unique alert identifier
        alert_type:
          type: string
          enum: [behavioral, cognitive, emotional, social, health, crisis]
          description: Type of safety alert
        priority_level:
          type: string
          enum: [low, medium, high, critical, emergency]
          description: Priority level of the alert
        alert_timestamp:
          type: string
          format: date-time
          description: When the alert was generated
        affected_member_id:
          type: string
          format: uuid
          description: Affected family member identifier
        alert_description:
          type: string
          description: Description of the safety alert
        triggering_factors:
          type: array
          items:
            type: object
          description: Factors that triggered the alert
        memory_context:
          type: object
          description: Memory context related to alert
        family_impact_assessment:
          type: object
          description: Assessment of family impact
        recommended_actions:
          type: array
          items:
            type: object
          description: Recommended actions for the alert
        escalation_criteria:
          type: object
          description: Criteria for alert escalation
        alert_persistence:
          type: object
          description: Alert persistence indicators

  responses:
    BadRequest:
      description: Bad request - invalid input parameters
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'

    Unauthorized:
      description: Authentication required
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'

    NotFound:
      description: Resource not found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'

    Forbidden:
      description: Access forbidden - insufficient permissions
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'

    ConflictError:
      description: Conflict - resource already exists
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'

    ErrorResponse:
      type: object
      required:
        - error
        - message
      properties:
        error:
          type: string
          description: Error code
        message:
          type: string
          description: Human-readable error message
        details:
          type: object
          description: Additional error details
        trace_id:
          type: string
          description: Request trace identifier
