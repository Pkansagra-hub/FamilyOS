openapi: 3.1.0
info:
  title: MemoryOS Agent Plane - Family Relationship Management API
  description: |
    **Memory-Centric Family AI Relationship Management Operations**

    This API provides LLM agents with comprehensive family relationship management capabilities:
    - **Relationship Mapping**: Deep mapping and understanding of family relationship structures and dynamics
    - **Relationship Evolution Tracking**: Monitor and analyze how family relationships evolve over time
    - **Relationship Health Management**: Assess, monitor, and enhance family relationship health and quality
    - **Relationship Intervention**: Provide targeted interventions for relationship challenges and growth
    - **Relationship Coordination**: Facilitate and optimize family relationship coordination and interactions

    **Memory-Centric Design**: Relationship management leverages Memory Backbone for:
    - Family relationship understanding and relationship memory formation
    - Memory-informed relationship analysis and relationship pattern recognition
    - Cross-family relationship intelligence and relationship optimization insights
    - Relationship evolution tracking through memory synthesis and relationship development analysis

    **Architecture Integration**:
    - Integrates with Memory Backbone for memory-informed relationship management
    - Leverages Family Intelligence for relationship-aware management and optimization
    - Coordinates with Intelligence Layer for advanced family relationship analysis
    - Enforces family policies through relationship management boundaries and privacy controls
  version: "1.0.0"
  contact:
    name: MemoryOS API Team
    url: https://familyos.local/support
    email: api-support@familyos.local
  license:
    name: Family OS Private License
    url: https://familyos.local/licenses/family-os

servers:
  - url: https://api.familyos.local/agent/v1
    description: Production Agent Plane
  - url: https://staging-api.familyos.local/agent/v1
    description: Staging Environment
  - url: http://localhost:8080/agent/v1
    description: Local Development

security:
  - AgentAuth: []
  - FamilyOSAuth: []

paths:
  /relationships/mapping:
    post:
      summary: Map Family Relationship Structures
      description: |
        Map and analyze family relationship structures with deep relationship understanding.

        **Relationship Mapping**: Comprehensive mapping of family relationship structures and dynamics.
        **Relationship Intelligence**: Deep understanding of family relationship patterns and interconnections.
      operationId: mapFamilyRelationshipStructures
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RelationshipMappingRequest'
      responses:
        '200':
          description: Family relationship mapping completed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  relationship_map:
                    $ref: '#/components/schemas/FamilyRelationshipMap'
                  relationship_structures:
                    type: array
                    items:
                      $ref: '#/components/schemas/RelationshipStructure'
                  relationship_dynamics:
                    $ref: '#/components/schemas/RelationshipDynamics'
                  relationship_patterns:
                    type: array
                    items:
                      $ref: '#/components/schemas/RelationshipPattern'
                  relationship_insights:
                    type: array
                    items:
                      $ref: '#/components/schemas/RelationshipInsight'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
      tags:
        - Relationship Mapping

  /relationships/evolution:
    post:
      summary: Track Relationship Evolution
      description: |
        Track and analyze family relationship evolution patterns over time.

        **Evolution Tracking**: Monitor how family relationships evolve and develop over time.
        **Relationship Development**: Analyze relationship development patterns and growth trajectories.
      operationId: trackFamilyRelationshipEvolution
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RelationshipEvolutionRequest'
      responses:
        '200':
          description: Relationship evolution tracking completed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  evolution_analysis:
                    $ref: '#/components/schemas/RelationshipEvolutionAnalysis'
                  evolution_patterns:
                    type: array
                    items:
                      $ref: '#/components/schemas/EvolutionPattern'
                  development_stages:
                    type: array
                    items:
                      $ref: '#/components/schemas/RelationshipDevelopmentStage'
                  evolution_insights:
                    type: array
                    items:
                      $ref: '#/components/schemas/EvolutionInsight'
                  future_projections:
                    type: array
                    items:
                      $ref: '#/components/schemas/RelationshipProjection'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
      tags:
        - Relationship Evolution

  /relationships/health-assessment:
    post:
      summary: Assess Relationship Health
      description: |
        Assess and analyze family relationship health with comprehensive evaluation metrics.

        **Health Assessment**: Comprehensive assessment of family relationship health and quality.
        **Relationship Quality**: Detailed analysis of relationship quality indicators and health metrics.
      operationId: assessFamilyRelationshipHealth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RelationshipHealthAssessmentRequest'
      responses:
        '200':
          description: Relationship health assessment completed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  health_assessment:
                    $ref: '#/components/schemas/RelationshipHealthAssessment'
                  health_metrics:
                    $ref: '#/components/schemas/RelationshipHealthMetrics'
                  health_indicators:
                    type: array
                    items:
                      $ref: '#/components/schemas/HealthIndicator'
                  risk_factors:
                    type: array
                    items:
                      $ref: '#/components/schemas/RelationshipRiskFactor'
                  health_recommendations:
                    type: array
                    items:
                      $ref: '#/components/schemas/HealthRecommendation'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
      tags:
        - Relationship Health

  /relationships/intervention:
    post:
      summary: Provide Relationship Interventions
      description: |
        Provide targeted interventions for family relationship challenges and growth opportunities.

        **Relationship Intervention**: Targeted interventions for relationship challenges and enhancement.
        **Intervention Strategy**: Strategic intervention approaches for relationship improvement and growth.
      operationId: provideFamilyRelationshipInterventions
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RelationshipInterventionRequest'
      responses:
        '200':
          description: Relationship interventions provided successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  intervention_plan:
                    $ref: '#/components/schemas/RelationshipInterventionPlan'
                  intervention_strategies:
                    type: array
                    items:
                      $ref: '#/components/schemas/InterventionStrategy'
                  intervention_activities:
                    type: array
                    items:
                      $ref: '#/components/schemas/InterventionActivity'
                  intervention_timeline:
                    $ref: '#/components/schemas/InterventionTimeline'
                  success_metrics:
                    type: array
                    items:
                      $ref: '#/components/schemas/InterventionSuccessMetric'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
      tags:
        - Relationship Intervention

  /relationships/coordination:
    post:
      summary: Coordinate Family Relationships
      description: |
        Coordinate and optimize family relationship interactions and dynamics.

        **Relationship Coordination**: Optimize family relationship interactions and coordination.
        **Coordination Optimization**: Strategic coordination of family relationship dynamics and interactions.
      operationId: coordinateFamilyRelationships
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RelationshipCoordinationRequest'
      responses:
        '200':
          description: Family relationship coordination completed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  coordination_plan:
                    $ref: '#/components/schemas/RelationshipCoordinationPlan'
                  coordination_strategies:
                    type: array
                    items:
                      $ref: '#/components/schemas/CoordinationStrategy'
                  interaction_optimization:
                    $ref: '#/components/schemas/InteractionOptimization'
                  coordination_recommendations:
                    type: array
                    items:
                      $ref: '#/components/schemas/CoordinationRecommendation'
                  coordination_metrics:
                    $ref: '#/components/schemas/CoordinationMetrics'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
      tags:
        - Relationship Coordination

  /relationships/conflict-management:
    post:
      summary: Manage Relationship Conflicts
      description: |
        Manage and resolve family relationship conflicts with targeted conflict resolution strategies.

        **Conflict Management**: Comprehensive conflict management for family relationship challenges.
        **Conflict Resolution**: Strategic conflict resolution approaches for relationship harmony.
      operationId: manageFamilyRelationshipConflicts
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RelationshipConflictManagementRequest'
      responses:
        '200':
          description: Relationship conflict management completed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  conflict_analysis:
                    $ref: '#/components/schemas/RelationshipConflictAnalysis'
                  resolution_strategies:
                    type: array
                    items:
                      $ref: '#/components/schemas/ConflictResolutionStrategy'
                  mediation_recommendations:
                    type: array
                    items:
                      $ref: '#/components/schemas/MediationRecommendation'
                  healing_strategies:
                    type: array
                    items:
                      $ref: '#/components/schemas/RelationshipHealingStrategy'
                  prevention_strategies:
                    type: array
                    items:
                      $ref: '#/components/schemas/ConflictPreventionStrategy'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
      tags:
        - Conflict Management

  /relationships/communication-enhancement:
    post:
      summary: Enhance Relationship Communication
      description: |
        Enhance family relationship communication patterns and effectiveness.

        **Communication Enhancement**: Improve family relationship communication patterns and quality.
        **Communication Optimization**: Strategic communication optimization for relationship enhancement.
      operationId: enhanceFamilyRelationshipCommunication
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CommunicationEnhancementRequest'
      responses:
        '200':
          description: Relationship communication enhancement completed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  communication_analysis:
                    $ref: '#/components/schemas/CommunicationAnalysis'
                  enhancement_strategies:
                    type: array
                    items:
                      $ref: '#/components/schemas/CommunicationEnhancementStrategy'
                  communication_skills_development:
                    type: array
                    items:
                      $ref: '#/components/schemas/CommunicationSkillDevelopment'
                  communication_tools:
                    type: array
                    items:
                      $ref: '#/components/schemas/CommunicationTool'
                  improvement_plan:
                    $ref: '#/components/schemas/CommunicationImprovementPlan'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
      tags:
        - Communication Enhancement

  /relationships/intimacy-development:
    post:
      summary: Develop Relationship Intimacy
      description: |
        Develop and enhance family relationship intimacy and emotional connection.

        **Intimacy Development**: Enhance family relationship intimacy and emotional connection.
        **Emotional Connection**: Strategic development of emotional connection and relationship depth.
      operationId: developFamilyRelationshipIntimacy
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/IntimacyDevelopmentRequest'
      responses:
        '200':
          description: Relationship intimacy development completed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  intimacy_assessment:
                    $ref: '#/components/schemas/IntimacyAssessment'
                  development_strategies:
                    type: array
                    items:
                      $ref: '#/components/schemas/IntimacyDevelopmentStrategy'
                  connection_activities:
                    type: array
                    items:
                      $ref: '#/components/schemas/ConnectionActivity'
                  intimacy_building_plan:
                    $ref: '#/components/schemas/IntimacyBuildingPlan'
                  progress_indicators:
                    type: array
                    items:
                      $ref: '#/components/schemas/IntimacyProgressIndicator'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
      tags:
        - Intimacy Development

  /relationships/support-systems:
    post:
      summary: Manage Family Support Systems
      description: |
        Manage and optimize family relationship support systems and networks.

        **Support Systems**: Manage family relationship support systems and networks.
        **Support Optimization**: Strategic optimization of family support structures and systems.
      operationId: manageFamilySupportSystems
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SupportSystemsRequest'
      responses:
        '200':
          description: Family support systems management completed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  support_analysis:
                    $ref: '#/components/schemas/FamilySupportAnalysis'
                  support_strategies:
                    type: array
                    items:
                      $ref: '#/components/schemas/SupportStrategy'
                  support_network_optimization:
                    $ref: '#/components/schemas/SupportNetworkOptimization'
                  support_interventions:
                    type: array
                    items:
                      $ref: '#/components/schemas/SupportIntervention'
                  support_development_plan:
                    $ref: '#/components/schemas/SupportDevelopmentPlan'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
      tags:
        - Support Systems

  /relationships/growth-planning:
    post:
      summary: Plan Relationship Growth
      description: |
        Plan and facilitate family relationship growth and development strategies.

        **Growth Planning**: Strategic planning for family relationship growth and development.
        **Relationship Development**: Comprehensive relationship development planning and execution.
      operationId: planFamilyRelationshipGrowth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RelationshipGrowthPlanningRequest'
      responses:
        '200':
          description: Relationship growth planning completed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  growth_plan:
                    $ref: '#/components/schemas/RelationshipGrowthPlan'
                  growth_strategies:
                    type: array
                    items:
                      $ref: '#/components/schemas/RelationshipGrowthStrategy'
                  development_milestones:
                    type: array
                    items:
                      $ref: '#/components/schemas/RelationshipDevelopmentMilestone'
                  growth_activities:
                    type: array
                    items:
                      $ref: '#/components/schemas/RelationshipGrowthActivity'
                  progress_tracking:
                    $ref: '#/components/schemas/RelationshipProgressTracking'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
      tags:
        - Growth Planning

components:
  securitySchemes:
    AgentAuth:
      type: http
      scheme: bearer
      description: Agent-specific JWT authentication for relationship management operations
      bearerFormat: JWT

    FamilyOSAuth:
      type: oauth2
      description: FamilyOS OAuth2 authentication with relationship management scopes
      flows:
        authorizationCode:
          authorizationUrl: https://auth.familyos.local/oauth/authorize
          tokenUrl: https://auth.familyos.local/oauth/token
          scopes:
            relationships:mapping: Map family relationship structures
            relationships:evolution: Track relationship evolution
            relationships:health: Assess relationship health
            relationships:intervention: Provide relationship interventions
            relationships:coordination: Coordinate family relationships
            relationships:conflict: Manage relationship conflicts
            relationships:communication: Enhance relationship communication
            relationships:intimacy: Develop relationship intimacy
            relationships:support: Manage family support systems
            relationships:growth: Plan relationship growth

  schemas:
    RelationshipMappingRequest:
      type: object
      description: Request for family relationship mapping
      properties:
        mapping_scope:
          type: string
          enum: [nuclear_family, extended_family, multi_generational, comprehensive]
          description: Scope of relationship mapping
        mapping_depth:
          type: string
          enum: [surface, moderate, deep, comprehensive]
          default: moderate
          description: Depth of relationship mapping analysis
        relationship_dimensions:
          type: array
          items:
            type: string
            enum: [emotional_bonds, communication_patterns, support_structures, conflict_patterns, intimacy_levels, trust_dynamics]
          description: Dimensions to include in relationship mapping
        family_members:
          type: array
          items:
            type: string
            format: uuid
          description: Family members to include in mapping
        mapping_timeframe:
          $ref: '#/components/schemas/MappingTimeFrame'
        historical_analysis:
          type: boolean
          default: true
          description: Whether to include historical relationship analysis
      required:
        - mapping_scope
        - relationship_dimensions

    RelationshipEvolutionRequest:
      type: object
      description: Request for relationship evolution tracking
      properties:
        evolution_scope:
          type: string
          enum: [individual_relationships, relationship_networks, family_dynamics, comprehensive]
          description: Scope of evolution tracking
        tracking_timeframe:
          $ref: '#/components/schemas/EvolutionTrackingTimeFrame'
        evolution_dimensions:
          type: array
          items:
            type: string
            enum: [emotional_development, communication_evolution, trust_building, intimacy_growth, conflict_resolution_improvement]
          description: Dimensions of relationship evolution to track
        relationship_targets:
          type: array
          items:
            $ref: '#/components/schemas/RelationshipTarget'
          description: Specific relationships to track evolution for
        evolution_analysis_depth:
          type: string
          enum: [overview, detailed, comprehensive, longitudinal]
          default: detailed
          description: Depth of evolution analysis
      required:
        - evolution_scope
        - tracking_timeframe

    RelationshipHealthAssessmentRequest:
      type: object
      description: Request for relationship health assessment
      properties:
        assessment_scope:
          type: string
          enum: [individual_relationships, family_wide, targeted_relationships, comprehensive]
          description: Scope of health assessment
        health_dimensions:
          type: array
          items:
            type: string
            enum: [emotional_health, communication_health, trust_levels, intimacy_quality, conflict_management, support_effectiveness]
          description: Dimensions of relationship health to assess
        assessment_criteria:
          $ref: '#/components/schemas/HealthAssessmentCriteria'
        comparison_baselines:
          type: array
          items:
            type: string
          description: Baselines for health comparison
        assessment_priorities:
          type: array
          items:
            type: string
          description: Priority areas for health assessment
        intervention_readiness:
          type: boolean
          default: false
          description: Whether family is ready for interventions
      required:
        - assessment_scope
        - health_dimensions

    RelationshipInterventionRequest:
      type: object
      description: Request for relationship interventions
      properties:
        intervention_targets:
          type: array
          items:
            $ref: '#/components/schemas/InterventionTarget'
          description: Targets for relationship interventions
        intervention_goals:
          type: array
          items:
            type: string
          description: Goals for relationship interventions
        intervention_type:
          type: string
          enum: [preventive, corrective, developmental, crisis_response, enhancement]
          description: Type of intervention needed
        intervention_urgency:
          type: string
          enum: [low, moderate, high, critical]
          description: Urgency level for interventions
        family_readiness:
          $ref: '#/components/schemas/FamilyInterventionReadiness'
        intervention_constraints:
          type: array
          items:
            type: string
          description: Constraints on intervention approaches
      required:
        - intervention_targets
        - intervention_goals
        - intervention_type

    RelationshipCoordinationRequest:
      type: object
      description: Request for relationship coordination
      properties:
        coordination_goals:
          type: array
          items:
            type: string
          description: Goals for relationship coordination
        coordination_scope:
          type: string
          enum: [daily_interactions, special_events, conflict_situations, growth_activities, comprehensive]
          description: Scope of relationship coordination
        coordination_challenges:
          type: array
          items:
            type: string
          description: Current coordination challenges
        relationship_priorities:
          type: array
          items:
            $ref: '#/components/schemas/RelationshipPriority'
          description: Priority relationships for coordination
        coordination_preferences:
          $ref: '#/components/schemas/CoordinationPreferences'
        coordination_timeline:
          $ref: '#/components/schemas/CoordinationTimeline'
      required:
        - coordination_goals
        - coordination_scope

    RelationshipConflictManagementRequest:
      type: object
      description: Request for relationship conflict management
      properties:
        conflict_description:
          type: string
          description: Description of the relationship conflict
          maxLength: 2000
        conflict_participants:
          type: array
          items:
            type: string
            format: uuid
          description: Family members involved in the conflict
        conflict_severity:
          type: string
          enum: [minor, moderate, significant, severe, critical]
          description: Severity level of the conflict
        conflict_type:
          type: string
          enum: [communication_breakdown, trust_issues, value_conflicts, boundary_violations, resource_disputes, role_conflicts]
          description: Type of relationship conflict
        conflict_history:
          $ref: '#/components/schemas/ConflictHistory'
        resolution_goals:
          type: array
          items:
            type: string
          description: Goals for conflict resolution
        resolution_constraints:
          type: array
          items:
            type: string
          description: Constraints on resolution approaches
      required:
        - conflict_description
        - conflict_participants
        - conflict_severity

    CommunicationEnhancementRequest:
      type: object
      description: Request for relationship communication enhancement
      properties:
        enhancement_goals:
          type: array
          items:
            type: string
          description: Goals for communication enhancement
        communication_challenges:
          type: array
          items:
            type: string
          description: Current communication challenges
        communication_dimensions:
          type: array
          items:
            type: string
            enum: [verbal_communication, non_verbal_communication, active_listening, emotional_expression, conflict_communication, supportive_communication]
          description: Dimensions of communication to enhance
        relationship_targets:
          type: array
          items:
            $ref: '#/components/schemas/CommunicationTarget'
          description: Relationships to focus communication enhancement on
        enhancement_preferences:
          $ref: '#/components/schemas/CommunicationEnhancementPreferences'
        enhancement_timeline:
          $ref: '#/components/schemas/EnhancementTimeline'
      required:
        - enhancement_goals
        - communication_dimensions

    IntimacyDevelopmentRequest:
      type: object
      description: Request for relationship intimacy development
      properties:
        intimacy_goals:
          type: array
          items:
            type: string
          description: Goals for intimacy development
        intimacy_dimensions:
          type: array
          items:
            type: string
            enum: [emotional_intimacy, intellectual_intimacy, experiential_intimacy, spiritual_intimacy, physical_intimacy]
          description: Dimensions of intimacy to develop
        relationship_targets:
          type: array
          items:
            $ref: '#/components/schemas/IntimacyTarget'
          description: Relationships to focus intimacy development on
        current_intimacy_levels:
          $ref: '#/components/schemas/CurrentIntimacyLevels'
        development_preferences:
          $ref: '#/components/schemas/IntimacyDevelopmentPreferences'
        development_timeline:
          $ref: '#/components/schemas/DevelopmentTimeline'
      required:
        - intimacy_goals
        - intimacy_dimensions

    SupportSystemsRequest:
      type: object
      description: Request for family support systems management
      properties:
        support_goals:
          type: array
          items:
            type: string
          description: Goals for support systems management
        support_areas:
          type: array
          items:
            type: string
            enum: [emotional_support, practical_support, informational_support, social_support, spiritual_support, professional_support]
          description: Areas of support to manage
        current_support_assessment:
          $ref: '#/components/schemas/CurrentSupportAssessment'
        support_gaps:
          type: array
          items:
            type: string
          description: Identified gaps in current support systems
        support_preferences:
          $ref: '#/components/schemas/SupportPreferences'
        support_timeline:
          $ref: '#/components/schemas/SupportTimeline'
      required:
        - support_goals
        - support_areas

    RelationshipGrowthPlanningRequest:
      type: object
      description: Request for relationship growth planning
      properties:
        growth_objectives:
          type: array
          items:
            type: string
          description: Objectives for relationship growth
        growth_areas:
          type: array
          items:
            type: string
            enum: [emotional_connection, communication_skills, trust_building, intimacy_development, conflict_resolution, shared_experiences]
          description: Areas to focus growth planning on
        growth_timeline:
          $ref: '#/components/schemas/GrowthTimeline'
        growth_priorities:
          type: array
          items:
            $ref: '#/components/schemas/GrowthPriority'
          description: Priorities for relationship growth
        growth_constraints:
          type: array
          items:
            type: string
          description: Constraints on growth activities
        family_growth_readiness:
          $ref: '#/components/schemas/FamilyGrowthReadiness'
      required:
        - growth_objectives
        - growth_areas

    # Response schemas
    FamilyRelationshipMap:
      type: object
      description: Comprehensive family relationship mapping results
      properties:
        relationship_network:
          $ref: '#/components/schemas/RelationshipNetwork'
        relationship_strengths:
          type: array
          items:
            $ref: '#/components/schemas/RelationshipStrength'
        relationship_challenges:
          type: array
          items:
            $ref: '#/components/schemas/RelationshipChallenge'
        relationship_opportunities:
          type: array
          items:
            $ref: '#/components/schemas/RelationshipOpportunity'
        mapping_confidence:
          type: number
          minimum: 0
          maximum: 1
      required:
        - relationship_network
        - mapping_confidence

    RelationshipEvolutionAnalysis:
      type: object
      description: Analysis of family relationship evolution
      properties:
        evolution_trajectory:
          $ref: '#/components/schemas/EvolutionTrajectory'
        evolution_milestones:
          type: array
          items:
            $ref: '#/components/schemas/EvolutionMilestone'
        evolution_patterns:
          type: array
          items:
            $ref: '#/components/schemas/EvolutionPattern'
        evolution_insights:
          type: array
          items:
            $ref: '#/components/schemas/EvolutionInsight'
        evolution_confidence:
          type: number
          minimum: 0
          maximum: 1
      required:
        - evolution_trajectory
        - evolution_confidence

    RelationshipHealthAssessment:
      type: object
      description: Comprehensive relationship health assessment
      properties:
        overall_health_score:
          type: number
          minimum: 0
          maximum: 100
        health_dimensions_analysis:
          $ref: '#/components/schemas/HealthDimensionsAnalysis'
        health_strengths:
          type: array
          items:
            $ref: '#/components/schemas/HealthStrength'
        health_concerns:
          type: array
          items:
            $ref: '#/components/schemas/HealthConcern'
        health_recommendations:
          type: array
          items:
            $ref: '#/components/schemas/HealthRecommendation'
      required:
        - overall_health_score
        - health_dimensions_analysis

    # Supporting schemas for relationship context
    MappingTimeFrame:
      type: object
      properties:
        historical_depth:
          type: string
          enum: [current_state, short_term, medium_term, long_term, comprehensive]
        analysis_period:
          type: string
          format: duration

    RelationshipTarget:
      type: object
      properties:
        relationship_id:
          type: string
          format: uuid
        participant_ids:
          type: array
          items:
            type: string
            format: uuid
        relationship_type:
          type: string
        priority_level:
          type: string
          enum: [low, medium, high, critical]

    # Error schemas
    ErrorResponse:
      type: object
      properties:
        error:
          type: object
          properties:
            code:
              type: string
            message:
              type: string
            details:
              type: object
            trace_id:
              type: string
          required:
            - code
            - message
      required:
        - error

  responses:
    BadRequestError:
      description: Invalid request parameters or relationship management task
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'

    ForbiddenError:
      description: Insufficient permissions or family policy violation
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'

    InternalServerError:
      description: Internal server error in relationship management processing
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'

tags:
  - name: Relationship Mapping
    description: |
      Family relationship mapping with comprehensive structure and dynamics analysis.

      **Relationship Intelligence**: Deep understanding of family relationship patterns and interconnections.

  - name: Relationship Evolution
    description: |
      Relationship evolution tracking with development pattern analysis and growth monitoring.

      **Evolution Intelligence**: Monitor how family relationships evolve and develop over time.

  - name: Relationship Health
    description: |
      Relationship health assessment with comprehensive evaluation metrics and quality analysis.

      **Health Intelligence**: Comprehensive assessment of family relationship health and quality.

  - name: Relationship Intervention
    description: |
      Relationship interventions with targeted strategies for challenges and growth opportunities.

      **Intervention Intelligence**: Targeted interventions for relationship challenges and enhancement.

  - name: Relationship Coordination
    description: |
      Relationship coordination with interaction optimization and dynamic management strategies.

      **Coordination Intelligence**: Optimize family relationship interactions and coordination.

  - name: Conflict Management
    description: |
      Relationship conflict management with resolution strategies and harmony restoration.

      **Conflict Intelligence**: Comprehensive conflict management for family relationship challenges.

  - name: Communication Enhancement
    description: |
      Relationship communication enhancement with pattern improvement and effectiveness optimization.

      **Communication Intelligence**: Improve family relationship communication patterns and quality.

  - name: Intimacy Development
    description: |
      Relationship intimacy development with emotional connection and depth enhancement strategies.

      **Intimacy Intelligence**: Enhance family relationship intimacy and emotional connection.

  - name: Support Systems
    description: |
      Family support systems management with network optimization and support structure enhancement.

      **Support Intelligence**: Manage family relationship support systems and networks.

  - name: Growth Planning
    description: |
      Relationship growth planning with development strategies and milestone achievement.

      **Growth Intelligence**: Strategic planning for family relationship growth and development.
