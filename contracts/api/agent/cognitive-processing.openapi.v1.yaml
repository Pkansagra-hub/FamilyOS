openapi: 3.1.0
info:
  title: MemoryOS Agent Plane - Cognitive Processing API
  description: |
    **Memory-Centric Family AI Cognitive Processing Operations**

    This API provides LLM agents with advanced cognitive processing capabilities for Family AI intelligence:
    - **Family-Aware Reasoning**: Cognitive reasoning that considers family relationships and dynamics
    - **Emotional Intelligence Processing**: Advanced emotional analysis and family emotional coordination
    - **Memory-Driven Decision Making**: Decision processes that leverage family memory and context
    - **Relationship Pattern Analysis**: Deep analysis of family relationship patterns and dynamics
    - **Contextual Intelligence Generation**: Generate family-appropriate insights and recommendations

    **Memory-Centric Design**: Cognitive processing leverages Memory Backbone for:
    - Family relationship understanding and emotional intelligence
    - Memory-informed reasoning and decision-making processes
    - Cross-family pattern recognition and behavioral analysis
    - Contextual intelligence that respects family boundaries and relationships

    **Architecture Integration**:
    - Integrates with Memory Backbone for memory-informed cognitive processing
    - Leverages Family Intelligence for relationship-aware reasoning and insights
    - Coordinates with Intelligence Layer for advanced family pattern analysis
    - Enforces family policies through cognitive processing boundaries and privacy controls
  version: "1.0.0"
  contact:
    name: MemoryOS API Team
    url: https://familyos.local/support
    email: api-support@familyos.local
  license:
    name: Family OS Private License
    url: https://familyos.local/licenses/family-os

servers:
  - url: https://api.familyos.local/agent/v1
    description: Production Agent Plane
  - url: https://staging-api.familyos.local/agent/v1
    description: Staging Environment
  - url: http://localhost:8080/agent/v1
    description: Local Development

security:
  - AgentAuth: []
  - FamilyOSAuth: []

paths:
  /cognitive/reasoning:
    post:
      summary: Perform Family-Aware Reasoning
      description: |
        Execute cognitive reasoning tasks with family relationship and memory context awareness.

        **Family-Aware Reasoning**: Cognitive processing that considers family dynamics and relationships.
        **Memory Integration**: Reasoning processes that leverage family memory and historical context.
      operationId: performFamilyAwareReasoning
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReasoningRequest'
      responses:
        '200':
          description: Reasoning completed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  reasoning_result:
                    $ref: '#/components/schemas/ReasoningResult'
                  family_context_analysis:
                    $ref: '#/components/schemas/FamilyContextAnalysis'
                  memory_informed_insights:
                    $ref: '#/components/schemas/MemoryInformedInsights'
                  confidence_assessment:
                    $ref: '#/components/schemas/ConfidenceAssessment'
                  alternative_perspectives:
                    type: array
                    items:
                      $ref: '#/components/schemas/AlternativePerspective'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
      tags:
        - Cognitive Reasoning

  /cognitive/emotional-intelligence:
    post:
      summary: Process Emotional Intelligence
      description: |
        Analyze and process emotional intelligence with family relationship dynamics.

        **Emotional Intelligence**: Advanced emotional analysis considering family emotional patterns.
        **Family Dynamics**: Emotional processing that accounts for family relationship complexities.
      operationId: processEmotionalIntelligence
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmotionalIntelligenceRequest'
      responses:
        '200':
          description: Emotional intelligence processed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  emotional_analysis:
                    $ref: '#/components/schemas/EmotionalAnalysis'
                  family_emotional_dynamics:
                    $ref: '#/components/schemas/FamilyEmotionalDynamics'
                  emotional_recommendations:
                    $ref: '#/components/schemas/EmotionalRecommendations'
                  empathy_insights:
                    $ref: '#/components/schemas/EmpathyInsights'
                  emotional_regulation_suggestions:
                    $ref: '#/components/schemas/EmotionalRegulationSuggestions'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
      tags:
        - Emotional Intelligence

  /cognitive/decision-making:
    post:
      summary: Memory-Driven Decision Making
      description: |
        Execute decision-making processes using family memory and relationship context.

        **Memory-Driven Decisions**: Decision processes that leverage family memory and historical patterns.
        **Family Consideration**: Decisions that account for family member needs and relationship dynamics.
      operationId: performMemoryDrivenDecisionMaking
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DecisionMakingRequest'
      responses:
        '200':
          description: Decision making completed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  decision_recommendation:
                    $ref: '#/components/schemas/DecisionRecommendation'
                  decision_rationale:
                    $ref: '#/components/schemas/DecisionRationale'
                  family_impact_analysis:
                    $ref: '#/components/schemas/FamilyImpactAnalysis'
                  alternative_options:
                    type: array
                    items:
                      $ref: '#/components/schemas/DecisionOption'
                  risk_assessment:
                    $ref: '#/components/schemas/RiskAssessment'
                  implementation_plan:
                    $ref: '#/components/schemas/ImplementationPlan'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
      tags:
        - Decision Making

  /cognitive/pattern-analysis:
    post:
      summary: Analyze Family Relationship Patterns
      description: |
        Perform deep analysis of family relationship patterns and behavioral dynamics.

        **Pattern Recognition**: Advanced analysis of family behavioral and relationship patterns.
        **Behavioral Intelligence**: Understanding family dynamics through pattern recognition and memory analysis.
      operationId: analyzeFamilyRelationshipPatterns
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatternAnalysisRequest'
      responses:
        '200':
          description: Pattern analysis completed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  relationship_patterns:
                    $ref: '#/components/schemas/RelationshipPatterns'
                  behavioral_insights:
                    $ref: '#/components/schemas/BehavioralInsights'
                  family_dynamics_analysis:
                    $ref: '#/components/schemas/FamilyDynamicsAnalysis'
                  pattern_predictions:
                    $ref: '#/components/schemas/PatternPredictions'
                  intervention_opportunities:
                    $ref: '#/components/schemas/InterventionOpportunities'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
      tags:
        - Pattern Analysis

  /cognitive/contextual-intelligence:
    post:
      summary: Generate Contextual Intelligence
      description: |
        Generate contextual intelligence and insights with family-appropriate recommendations.

        **Contextual Intelligence**: Generate insights that consider full family context and relationship dynamics.
        **Family-Appropriate Insights**: Intelligence generation that respects family boundaries and relationships.
      operationId: generateContextualIntelligence
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ContextualIntelligenceRequest'
      responses:
        '200':
          description: Contextual intelligence generated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  intelligence_insights:
                    $ref: '#/components/schemas/IntelligenceInsights'
                  contextual_recommendations:
                    $ref: '#/components/schemas/ContextualRecommendations'
                  family_coordination_opportunities:
                    $ref: '#/components/schemas/FamilyCoordinationOpportunities'
                  personalization_insights:
                    $ref: '#/components/schemas/PersonalizationInsights'
                  predictive_intelligence:
                    $ref: '#/components/schemas/PredictiveIntelligence'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
      tags:
        - Contextual Intelligence

  /cognitive/memory-synthesis:
    post:
      summary: Synthesize Memory-Based Insights
      description: |
        Synthesize insights from family memory patterns and relationship evolution.

        **Memory Synthesis**: Combine memory patterns to generate deep family insights and understanding.
        **Relationship Evolution**: Analyze how family relationships evolve through memory synthesis.
      operationId: synthesizeMemoryBasedInsights
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MemorySynthesisRequest'
      responses:
        '200':
          description: Memory synthesis completed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  synthesis_results:
                    $ref: '#/components/schemas/MemorySynthesisResults'
                  family_evolution_insights:
                    $ref: '#/components/schemas/FamilyEvolutionInsights'
                  relationship_development_patterns:
                    $ref: '#/components/schemas/RelationshipDevelopmentPatterns'
                  memory_derived_recommendations:
                    $ref: '#/components/schemas/MemoryDerivedRecommendations'
                  synthesis_confidence:
                    $ref: '#/components/schemas/SynthesisConfidence'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
      tags:
        - Memory Synthesis

  /cognitive/learning-adaptation:
    post:
      summary: Adaptive Learning from Family Interactions
      description: |
        Perform adaptive learning from family interactions and relationship patterns.

        **Adaptive Learning**: Continuous learning from family interactions and memory formation.
        **Relationship Learning**: Adapt understanding based on evolving family relationship dynamics.
      operationId: performAdaptiveLearning
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AdaptiveLearningRequest'
      responses:
        '200':
          description: Adaptive learning completed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  learning_outcomes:
                    $ref: '#/components/schemas/LearningOutcomes'
                  family_model_updates:
                    $ref: '#/components/schemas/FamilyModelUpdates'
                  relationship_understanding_changes:
                    $ref: '#/components/schemas/RelationshipUnderstandingChanges'
                  adaptation_recommendations:
                    $ref: '#/components/schemas/AdaptationRecommendations'
                  learning_confidence:
                    $ref: '#/components/schemas/LearningConfidence'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
      tags:
        - Adaptive Learning

  /cognitive/prediction:
    post:
      summary: Generate Family Behavior Predictions
      description: |
        Generate predictions about family behavior and relationship dynamics.

        **Behavioral Prediction**: Predict family member behavior based on memory patterns and relationship analysis.
        **Relationship Forecasting**: Forecast relationship evolution and family dynamic changes.
      operationId: generateFamilyBehaviorPredictions
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PredictionRequest'
      responses:
        '200':
          description: Predictions generated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  behavioral_predictions:
                    $ref: '#/components/schemas/BehavioralPredictions'
                  relationship_forecasts:
                    $ref: '#/components/schemas/RelationshipForecasts'
                  family_dynamic_projections:
                    $ref: '#/components/schemas/FamilyDynamicProjections'
                  prediction_confidence:
                    $ref: '#/components/schemas/PredictionConfidence'
                  uncertainty_analysis:
                    $ref: '#/components/schemas/UncertaintyAnalysis'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
      tags:
        - Prediction

  /cognitive/conflict-resolution:
    post:
      summary: Analyze and Resolve Family Conflicts
      description: |
        Analyze family conflicts and generate resolution strategies with emotional intelligence.

        **Conflict Analysis**: Deep analysis of family conflicts considering relationship dynamics and history.
        **Resolution Strategies**: Generate family-appropriate conflict resolution approaches and recommendations.
      operationId: analyzeAndResolveFamilyConflicts
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConflictResolutionRequest'
      responses:
        '200':
          description: Conflict analysis and resolution completed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  conflict_analysis:
                    $ref: '#/components/schemas/ConflictAnalysis'
                  resolution_strategies:
                    type: array
                    items:
                      $ref: '#/components/schemas/ResolutionStrategy'
                  mediation_recommendations:
                    $ref: '#/components/schemas/MediationRecommendations'
                  family_healing_opportunities:
                    $ref: '#/components/schemas/FamilyHealingOpportunities'
                  prevention_strategies:
                    $ref: '#/components/schemas/ConflictPreventionStrategies'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
      tags:
        - Conflict Resolution

  /cognitive/personalization:
    post:
      summary: Generate Personalized Family Experiences
      description: |
        Generate personalized experiences and recommendations for family members.

        **Personalization Engine**: Create personalized experiences based on family member preferences and relationships.
        **Family-Aware Customization**: Personalization that considers family context and relationship dynamics.
      operationId: generatePersonalizedFamilyExperiences
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PersonalizationRequest'
      responses:
        '200':
          description: Personalized experiences generated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  personalized_recommendations:
                    $ref: '#/components/schemas/PersonalizedRecommendations'
                  family_coordination_suggestions:
                    $ref: '#/components/schemas/FamilyCoordinationSuggestions'
                  individual_optimization:
                    $ref: '#/components/schemas/IndividualOptimization'
                  relationship_enhancement_opportunities:
                    $ref: '#/components/schemas/RelationshipEnhancementOpportunities'
                  personalization_confidence:
                    $ref: '#/components/schemas/PersonalizationConfidence'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
      tags:
        - Personalization

components:
  securitySchemes:
    AgentAuth:
      type: http
      scheme: bearer
      description: Agent-specific JWT authentication for cognitive processing operations
      bearerFormat: JWT

    FamilyOSAuth:
      type: oauth2
      description: FamilyOS OAuth2 authentication with cognitive processing scopes
      flows:
        authorizationCode:
          authorizationUrl: https://auth.familyos.local/oauth/authorize
          tokenUrl: https://auth.familyos.local/oauth/token
          scopes:
            cognitive:reasoning: Perform cognitive reasoning operations
            cognitive:emotional: Access emotional intelligence processing
            cognitive:decision: Perform decision-making operations
            cognitive:pattern: Analyze patterns and behaviors
            cognitive:intelligence: Generate contextual intelligence
            cognitive:learning: Perform adaptive learning operations
            cognitive:prediction: Generate behavioral predictions
            cognitive:conflict: Analyze and resolve conflicts
            cognitive:personalization: Generate personalized experiences

  schemas:
    ReasoningRequest:
      type: object
      description: Request for family-aware cognitive reasoning
      properties:
        reasoning_task:
          type: string
          description: The cognitive reasoning task to perform
          maxLength: 2000
        reasoning_type:
          type: string
          enum: [deductive, inductive, abductive, analogical, causal, emotional]
          description: Type of reasoning to apply
        family_context:
          $ref: '#/components/schemas/FamilyReasoningContext'
        memory_context:
          $ref: '#/components/schemas/MemoryReasoningContext'
        constraints:
          type: array
          items:
            type: string
          description: Reasoning constraints and boundaries
        priority_considerations:
          type: array
          items:
            type: string
          description: Priority factors for reasoning
        family_member_perspectives:
          type: array
          items:
            $ref: '#/components/schemas/FamilyMemberPerspective'
      required:
        - reasoning_task
        - reasoning_type

    EmotionalIntelligenceRequest:
      type: object
      description: Request for emotional intelligence processing
      properties:
        emotional_context:
          type: string
          description: Emotional context to analyze
          maxLength: 1500
        analysis_dimensions:
          type: array
          items:
            type: string
            enum: [recognition, understanding, regulation, empathy, social_awareness, family_dynamics]
          description: Dimensions of emotional analysis
        family_emotional_history:
          $ref: '#/components/schemas/FamilyEmotionalHistory'
        target_family_members:
          type: array
          items:
            type: string
            format: uuid
          description: Family members to consider in analysis
        emotional_goals:
          type: array
          items:
            type: string
          description: Emotional intelligence goals
      required:
        - emotional_context
        - analysis_dimensions

    DecisionMakingRequest:
      type: object
      description: Request for memory-driven decision making
      properties:
        decision_context:
          type: string
          description: Context for the decision to be made
          maxLength: 2000
        decision_type:
          type: string
          enum: [strategic, tactical, operational, personal, family_coordination, conflict_resolution]
          description: Type of decision to make
        available_options:
          type: array
          items:
            $ref: '#/components/schemas/DecisionOption'
          description: Available decision options
        family_impact_considerations:
          $ref: '#/components/schemas/FamilyImpactConsiderations'
        memory_relevant_factors:
          $ref: '#/components/schemas/MemoryRelevantFactors'
        decision_criteria:
          type: array
          items:
            $ref: '#/components/schemas/DecisionCriterion'
          description: Criteria for decision evaluation
        time_constraints:
          $ref: '#/components/schemas/TimeConstraints'
      required:
        - decision_context
        - decision_type

    PatternAnalysisRequest:
      type: object
      description: Request for family relationship pattern analysis
      properties:
        analysis_scope:
          type: string
          enum: [individual, dyadic, family_wide, extended_family, multi_generational]
          description: Scope of pattern analysis
        pattern_types:
          type: array
          items:
            type: string
            enum: [behavioral, emotional, communication, interaction, conflict, support, growth]
          description: Types of patterns to analyze
        time_frame:
          $ref: '#/components/schemas/AnalysisTimeFrame'
        family_members:
          type: array
          items:
            type: string
            format: uuid
          description: Family members to include in analysis
        focus_areas:
          type: array
          items:
            type: string
          description: Specific areas to focus analysis on
        comparison_baselines:
          type: array
          items:
            type: string
          description: Baselines for pattern comparison
      required:
        - analysis_scope
        - pattern_types

    ContextualIntelligenceRequest:
      type: object
      description: Request for contextual intelligence generation
      properties:
        intelligence_context:
          type: string
          description: Context for intelligence generation
          maxLength: 1500
        intelligence_goals:
          type: array
          items:
            type: string
          description: Goals for intelligence generation
        family_context_scope:
          type: string
          enum: [individual_focused, relationship_focused, family_wide, situational]
          description: Scope of family context consideration
        memory_integration_depth:
          type: string
          enum: [surface, moderate, deep, comprehensive]
          default: moderate
          description: Depth of memory integration
        personalization_targets:
          type: array
          items:
            type: string
            format: uuid
          description: Family members to personalize intelligence for
      required:
        - intelligence_context
        - intelligence_goals

    MemorySynthesisRequest:
      type: object
      description: Request for memory-based insight synthesis
      properties:
        synthesis_objectives:
          type: array
          items:
            type: string
          description: Objectives for memory synthesis
        memory_timeframe:
          $ref: '#/components/schemas/MemoryTimeFrame'
        synthesis_dimensions:
          type: array
          items:
            type: string
            enum: [temporal, relational, emotional, behavioral, developmental, contextual]
          description: Dimensions for synthesis analysis
        family_focus:
          type: string
          enum: [individual_development, relationship_evolution, family_dynamics, cross_generational]
          description: Focus area for family synthesis
        synthesis_depth:
          type: string
          enum: [overview, detailed, comprehensive, deep_dive]
          default: detailed
          description: Depth of synthesis analysis
      required:
        - synthesis_objectives
        - synthesis_dimensions

    AdaptiveLearningRequest:
      type: object
      description: Request for adaptive learning from family interactions
      properties:
        learning_focus:
          type: array
          items:
            type: string
            enum: [behavior_patterns, preference_evolution, relationship_dynamics, communication_styles, emotional_patterns]
          description: Focus areas for adaptive learning
        interaction_data:
          $ref: '#/components/schemas/FamilyInteractionData'
        learning_objectives:
          type: array
          items:
            type: string
          description: Specific learning objectives
        adaptation_scope:
          type: string
          enum: [individual_model, relationship_model, family_model, comprehensive]
          description: Scope of model adaptation
        learning_constraints:
          $ref: '#/components/schemas/LearningConstraints'
      required:
        - learning_focus
        - learning_objectives

    PredictionRequest:
      type: object
      description: Request for family behavior prediction
      properties:
        prediction_scope:
          type: string
          enum: [individual_behavior, relationship_dynamics, family_events, conflict_likelihood, support_needs]
          description: Scope of prediction
        prediction_timeframe:
          $ref: '#/components/schemas/PredictionTimeFrame'
        prediction_targets:
          type: array
          items:
            type: string
            format: uuid
          description: Family members to generate predictions for
        contextual_factors:
          $ref: '#/components/schemas/PredictionContextualFactors'
        prediction_confidence_threshold:
          type: number
          minimum: 0
          maximum: 1
          default: 0.7
          description: Minimum confidence threshold for predictions
      required:
        - prediction_scope
        - prediction_timeframe

    ConflictResolutionRequest:
      type: object
      description: Request for family conflict analysis and resolution
      properties:
        conflict_description:
          type: string
          description: Description of the family conflict
          maxLength: 2000
        conflict_participants:
          type: array
          items:
            type: string
            format: uuid
          description: Family members involved in the conflict
        conflict_history:
          $ref: '#/components/schemas/ConflictHistory'
        resolution_goals:
          type: array
          items:
            type: string
          description: Goals for conflict resolution
        family_dynamics_context:
          $ref: '#/components/schemas/FamilyDynamicsContext'
        resolution_constraints:
          type: array
          items:
            type: string
          description: Constraints on resolution approaches
      required:
        - conflict_description
        - conflict_participants

    PersonalizationRequest:
      type: object
      description: Request for personalized family experience generation
      properties:
        personalization_goals:
          type: array
          items:
            type: string
          description: Goals for personalization
        target_family_member:
          type: string
          format: uuid
          description: Primary family member to personalize for
        personalization_domains:
          type: array
          items:
            type: string
            enum: [communication, activities, learning, support, coordination, entertainment]
          description: Domains for personalization
        family_relationship_considerations:
          $ref: '#/components/schemas/PersonalizationFamilyContext'
        preference_history:
          $ref: '#/components/schemas/PreferenceHistory'
        personalization_constraints:
          type: array
          items:
            type: string
          description: Constraints on personalization
      required:
        - personalization_goals
        - target_family_member
        - personalization_domains

    # Response schemas
    ReasoningResult:
      type: object
      description: Result of family-aware cognitive reasoning
      properties:
        reasoning_conclusion:
          type: string
          description: Primary conclusion from reasoning
        reasoning_steps:
          type: array
          items:
            $ref: '#/components/schemas/ReasoningStep'
        family_considerations:
          $ref: '#/components/schemas/FamilyConsiderations'
        confidence_level:
          type: number
          minimum: 0
          maximum: 1
        alternative_conclusions:
          type: array
          items:
            type: string
        supporting_evidence:
          type: array
          items:
            $ref: '#/components/schemas/SupportingEvidence'
      required:
        - reasoning_conclusion
        - confidence_level

    EmotionalAnalysis:
      type: object
      description: Result of emotional intelligence processing
      properties:
        emotional_assessment:
          $ref: '#/components/schemas/EmotionalAssessment'
        family_emotional_impact:
          $ref: '#/components/schemas/FamilyEmotionalImpact'
        emotional_patterns:
          type: array
          items:
            $ref: '#/components/schemas/EmotionalPattern'
        empathy_recommendations:
          type: array
          items:
            type: string
        emotional_growth_opportunities:
          type: array
          items:
            $ref: '#/components/schemas/EmotionalGrowthOpportunity'
      required:
        - emotional_assessment

    DecisionRecommendation:
      type: object
      description: Recommendation from memory-driven decision making
      properties:
        recommended_decision:
          $ref: '#/components/schemas/RecommendedDecision'
        decision_confidence:
          type: number
          minimum: 0
          maximum: 1
        family_benefit_analysis:
          $ref: '#/components/schemas/FamilyBenefitAnalysis'
        implementation_steps:
          type: array
          items:
            $ref: '#/components/schemas/ImplementationStep'
        monitoring_recommendations:
          type: array
          items:
            type: string
      required:
        - recommended_decision
        - decision_confidence

    # Supporting schemas for family and cognitive context
    FamilyReasoningContext:
      type: object
      properties:
        family_relationships:
          type: object
        family_values:
          type: array
          items:
            type: string
        family_goals:
          type: array
          items:
            type: string
        relationship_dynamics:
          type: object

    MemoryReasoningContext:
      type: object
      properties:
        relevant_memories:
          type: array
          items:
            type: string
            format: uuid
        memory_patterns:
          type: object
        historical_context:
          type: object
        memory_confidence:
          type: number
          minimum: 0
          maximum: 1

    FamilyMemberPerspective:
      type: object
      properties:
        family_member_id:
          type: string
          format: uuid
        perspective_description:
          type: string
        emotional_context:
          type: object
        priority_factors:
          type: array
          items:
            type: string

    # Error schemas
    ErrorResponse:
      type: object
      properties:
        error:
          type: object
          properties:
            code:
              type: string
            message:
              type: string
            details:
              type: object
            trace_id:
              type: string
          required:
            - code
            - message
      required:
        - error

  responses:
    BadRequestError:
      description: Invalid request parameters or cognitive processing task
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'

    ForbiddenError:
      description: Insufficient permissions or family policy violation
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'

    InternalServerError:
      description: Internal server error in cognitive processing
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'

tags:
  - name: Cognitive Reasoning
    description: |
      Family-aware cognitive reasoning with memory and relationship context integration.

      **Advanced Reasoning**: Cognitive processing that considers family dynamics and relationships.

  - name: Emotional Intelligence
    description: |
      Emotional intelligence processing with family relationship and dynamics awareness.

      **Family Emotional Intelligence**: Advanced emotional analysis considering family emotional patterns.

  - name: Decision Making
    description: |
      Memory-driven decision making with family consideration and relationship impact analysis.

      **Family-Aware Decisions**: Decision processes that leverage family memory and relationship context.

  - name: Pattern Analysis
    description: |
      Deep analysis of family relationship patterns and behavioral dynamics with predictive insights.

      **Relationship Pattern Intelligence**: Advanced pattern recognition for family relationship understanding.

  - name: Contextual Intelligence
    description: |
      Generate contextual intelligence and insights with family-appropriate recommendations.

      **Family Context Intelligence**: Intelligence generation that respects family boundaries and relationships.

  - name: Memory Synthesis
    description: |
      Synthesize insights from family memory patterns and relationship evolution analysis.

      **Memory-Driven Insights**: Deep insights through family memory pattern synthesis and analysis.

  - name: Adaptive Learning
    description: |
      Adaptive learning from family interactions with relationship pattern understanding.

      **Family Learning Intelligence**: Continuous learning from family interactions and relationship evolution.

  - name: Prediction
    description: |
      Generate family behavior predictions and relationship dynamic forecasting.

      **Predictive Family Intelligence**: Behavioral prediction based on memory patterns and relationship analysis.

  - name: Conflict Resolution
    description: |
      Analyze and resolve family conflicts with emotional intelligence and relationship consideration.

      **Family Conflict Intelligence**: Advanced conflict resolution with family dynamics understanding.

  - name: Personalization
    description: |
      Generate personalized family experiences with relationship-aware customization.

      **Family-Aware Personalization**: Personalization that considers family context and relationship dynamics.
