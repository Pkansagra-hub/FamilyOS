openapi: 3.1.0
info:
  title: MemoryOS User Profile Management Contract
  version: "1.0.0"
  description: |
    **Memory-Centric Family AI User Profile Management Contract**

    This contract defines the user profile management capabilities for the Memory-Centric
    Family AI system, providing comprehensive profile operations with memory-driven updates,
    family context awareness, cognitive preferences, and relationship management.

    **Memory-Driven Profile Architecture:**
    - **Memory Backbone Profile Core**: Profile coordination through memory experiences
    - **Memory-Enhanced Cognitive Preferences**: Preferences learned through memory patterns
    - **Memory-Driven Family Integration**: Profile updates with family memory coordination
    - **Family Memory Relationship Management**: Relationships managed through memory context
    - **Memory-Based Privacy Controls**: Privacy settings informed by memory patterns

    **Profile Management Categories:**
    1. **Memory-Informed Profile Updates**: Profile changes coordinated through family memory
    2. **Memory-Driven Cognitive Preferences**: AI preferences learned from memory patterns
    3. **Memory-Enhanced Relationship Management**: Family relationships through memory context
    4. **Memory-Based Privacy & Sharing**: Privacy controls with memory-driven insights
    5. **Memory-Coordinated Device Profiles**: Device-specific profiles with family sync
    6. **Memory-Driven Accessibility**: Accessibility features through memory adaptation
    7. **Memory-Enhanced Profile Analytics**: Profile insights through memory analysis

    **Family Intelligence Integration:**
    - Profile management coordinated through family memory backbone
    - Cognitive preferences learned from family memory patterns
    - Relationship dynamics managed through memory-based insights
    - Privacy controls balanced with family coordination needs

servers:
  - url: https://api.memoryos.family/v1
    description: MemoryOS Family AI Profile Management API

paths:
  /profile:
    get:
      summary: Get Memory-Enhanced User Profile
      description: |
        Retrieve user profile with memory-driven enhancements,
        family context integration, and relationship-aware customization.
      operationId: getMemoryEnhancedUserProfile
      parameters:
        - name: include_family_context
          in: query
          schema:
            type: boolean
            default: true
          description: Include family context in profile response
        - name: include_cognitive_insights
          in: query
          schema:
            type: boolean
            default: true
          description: Include cognitive insights from memory patterns
      responses:
        '200':
          description: User profile retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserProfileResponse'
        '404':
          $ref: '#/components/responses/NotFound'

    put:
      summary: Update Profile with Memory Integration
      description: |
        Update user profile with memory-driven validation,
        family coordination, and cognitive preference adaptation.
      operationId: updateProfileWithMemoryIntegration
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProfileUpdateRequest'
      responses:
        '200':
          description: Profile updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProfileUpdateResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'

  /profile/cognitive-preferences:
    get:
      summary: Get Memory-Driven Cognitive Preferences
      description: |
        Retrieve cognitive preferences learned from memory patterns,
        family interactions, and relationship dynamics.
      operationId: getMemoryDrivenCognitivePreferences
      responses:
        '200':
          description: Cognitive preferences retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CognitivePreferencesResponse'

    put:
      summary: Update Cognitive Preferences with Memory Learning
      description: |
        Update cognitive preferences with memory-driven learning,
        family context awareness, and relationship adaptation.
      operationId: updateCognitivePreferencesWithMemoryLearning
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CognitivePreferencesUpdateRequest'
      responses:
        '200':
          description: Cognitive preferences updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CognitivePreferencesResponse'
        '400':
          $ref: '#/components/responses/BadRequest'

  /profile/family-relationships:
    get:
      summary: Get Memory-Enhanced Family Relationships
      description: |
        Retrieve family relationships with memory-driven insights,
        interaction patterns, and relationship dynamics analysis.
      operationId: getMemoryEnhancedFamilyRelationships
      responses:
        '200':
          description: Family relationships retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FamilyRelationshipsResponse'

    post:
      summary: Add Family Relationship with Memory Integration
      description: |
        Add new family relationship with memory context establishment,
        relationship dynamic initialization, and family coordination.
      operationId: addFamilyRelationshipWithMemoryIntegration
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddFamilyRelationshipRequest'
      responses:
        '201':
          description: Family relationship added successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FamilyRelationshipResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '409':
          $ref: '#/components/responses/ConflictError'

  /profile/family-relationships/{relationshipId}:
    get:
      summary: Get Specific Memory-Enhanced Relationship
      description: |
        Retrieve specific family relationship with memory-driven insights,
        interaction history, and relationship pattern analysis.
      operationId: getSpecificMemoryEnhancedRelationship
      parameters:
        - name: relationshipId
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Unique identifier for the family relationship
      responses:
        '200':
          description: Family relationship details retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DetailedFamilyRelationshipResponse'
        '404':
          $ref: '#/components/responses/NotFound'

    put:
      summary: Update Family Relationship with Memory Learning
      description: |
        Update family relationship with memory-driven adaptation,
        relationship dynamic evolution, and family coordination.
      operationId: updateFamilyRelationshipWithMemoryLearning
      parameters:
        - name: relationshipId
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Unique identifier for the family relationship
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateFamilyRelationshipRequest'
      responses:
        '200':
          description: Family relationship updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FamilyRelationshipResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'

  /profile/privacy-settings:
    get:
      summary: Get Memory-Driven Privacy Settings
      description: |
        Retrieve privacy settings with memory-driven recommendations,
        family context awareness, and relationship-based controls.
      operationId: getMemoryDrivenPrivacySettings
      responses:
        '200':
          description: Privacy settings retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PrivacySettingsResponse'

    put:
      summary: Update Privacy Settings with Family Coordination
      description: |
        Update privacy settings with family coordination validation,
        memory-driven recommendations, and relationship impact analysis.
      operationId: updatePrivacySettingsWithFamilyCoordination
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PrivacySettingsUpdateRequest'
      responses:
        '200':
          description: Privacy settings updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PrivacySettingsResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '409':
          description: Settings conflict with family coordination requirements

  /profile/device-profiles:
    get:
      summary: Get Memory-Coordinated Device Profiles
      description: |
        Retrieve device-specific profiles with memory-driven coordination,
        family sync status, and device-appropriate customizations.
      operationId: getMemoryCoordinatedDeviceProfiles
      responses:
        '200':
          description: Device profiles retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeviceProfilesResponse'

    post:
      summary: Create Device Profile with Family Sync
      description: |
        Create new device profile with family memory synchronization,
        device-specific optimization, and relationship-aware settings.
      operationId: createDeviceProfileWithFamilySync
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateDeviceProfileRequest'
      responses:
        '201':
          description: Device profile created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeviceProfileResponse'
        '400':
          $ref: '#/components/responses/BadRequest'

  /profile/device-profiles/{deviceId}:
    get:
      summary: Get Specific Memory-Enhanced Device Profile
      description: |
        Retrieve specific device profile with memory-driven optimizations,
        family sync status, and device capability utilization.
      operationId: getSpecificMemoryEnhancedDeviceProfile
      parameters:
        - name: deviceId
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Unique identifier for the device
      responses:
        '200':
          description: Device profile retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DetailedDeviceProfileResponse'
        '404':
          $ref: '#/components/responses/NotFound'

    put:
      summary: Update Device Profile with Memory Optimization
      description: |
        Update device profile with memory-driven optimization,
        family coordination adjustment, and capability adaptation.
      operationId: updateDeviceProfileWithMemoryOptimization
      parameters:
        - name: deviceId
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Unique identifier for the device
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateDeviceProfileRequest'
      responses:
        '200':
          description: Device profile updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeviceProfileResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'

  /profile/accessibility:
    get:
      summary: Get Memory-Adaptive Accessibility Settings
      description: |
        Retrieve accessibility settings with memory-driven adaptation,
        family support coordination, and personalized accommodations.
      operationId: getMemoryAdaptiveAccessibilitySettings
      responses:
        '200':
          description: Accessibility settings retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccessibilitySettingsResponse'

    put:
      summary: Update Accessibility Settings with Memory Learning
      description: |
        Update accessibility settings with memory-driven learning,
        family support coordination, and adaptive accommodations.
      operationId: updateAccessibilitySettingsWithMemoryLearning
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AccessibilitySettingsUpdateRequest'
      responses:
        '200':
          description: Accessibility settings updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccessibilitySettingsResponse'
        '400':
          $ref: '#/components/responses/BadRequest'

  /profile/analytics:
    get:
      summary: Get Memory-Driven Profile Analytics
      description: |
        Retrieve profile analytics with memory-driven insights,
        family interaction patterns, and relationship development tracking.
      operationId: getMemoryDrivenProfileAnalytics
      parameters:
        - name: time_range
          in: query
          schema:
            type: string
            enum: [week, month, quarter, year, all_time]
            default: month
          description: Time range for analytics data
        - name: include_family_insights
          in: query
          schema:
            type: boolean
            default: true
          description: Include family-wide insights
      responses:
        '200':
          description: Profile analytics retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProfileAnalyticsResponse'

components:
  schemas:
    UserProfileResponse:
      type: object
      required:
        - user_id
        - basic_info
        - family_context
        - cognitive_profile
      properties:
        user_id:
          type: string
          format: uuid
          description: Unique user identifier
        basic_info:
          $ref: '#/components/schemas/BasicUserInfo'
        family_context:
          $ref: '#/components/schemas/FamilyContextInfo'
        cognitive_profile:
          $ref: '#/components/schemas/CognitiveProfileInfo'
        memory_integration_status:
          $ref: '#/components/schemas/MemoryIntegrationStatus'
        relationship_summary:
          $ref: '#/components/schemas/RelationshipSummary'
        privacy_level:
          type: string
          enum: [minimal, standard, enhanced, family_coordinator]
          description: Current privacy level
        last_updated:
          type: string
          format: date-time
          description: Last profile update timestamp

    BasicUserInfo:
      type: object
      required:
        - first_name
        - family_role
      properties:
        first_name:
          type: string
          description: User's first name
        last_name:
          type: string
          description: User's last name
        display_name:
          type: string
          description: Preferred display name
        email:
          type: string
          format: email
          description: Primary email address
        phone:
          type: string
          description: Primary phone number
        date_of_birth:
          type: string
          format: date
          description: Date of birth
        family_role:
          type: string
          enum: [parent, child, spouse, partner, sibling, grandparent, grandchild, extended_family, close_friend]
          description: Role within family structure
        preferred_language:
          type: string
          description: Preferred language
        timezone:
          type: string
          description: User's timezone
        bio:
          type: string
          description: User biography/description

    FamilyContextInfo:
      type: object
      properties:
        family_id:
          type: string
          format: uuid
          description: Family group identifier
        family_name:
          type: string
          description: Family group name
        membership_status:
          type: string
          enum: [active, pending, limited, suspended]
          description: Family membership status
        family_role_details:
          $ref: '#/components/schemas/FamilyRoleDetails'
        coordination_level:
          type: string
          enum: [minimal, standard, enhanced, maximum]
          description: Family coordination level
        relationship_count:
          type: integer
          description: Number of established family relationships

    FamilyRoleDetails:
      type: object
      properties:
        primary_role:
          type: string
          description: Primary family role
        secondary_roles:
          type: array
          items:
            type: string
          description: Additional family roles
        responsibilities:
          type: array
          items:
            type: string
          description: Family responsibilities
        permissions:
          type: array
          items:
            type: string
          description: Family-related permissions

    CognitiveProfileInfo:
      type: object
      properties:
        profile_id:
          type: string
          format: uuid
          description: Cognitive profile identifier
        personality_traits:
          type: object
          description: Core personality characteristics
        communication_style:
          type: string
          description: Preferred communication style
        learning_preferences:
          $ref: '#/components/schemas/LearningPreferences'
        interaction_patterns:
          type: object
          description: Preferred interaction patterns
        cognitive_capabilities:
          type: array
          items:
            type: string
          description: Activated cognitive capabilities
        adaptation_level:
          type: string
          enum: [basic, intermediate, advanced, expert]
          description: AI adaptation sophistication level

    LearningPreferences:
      type: object
      properties:
        learning_style:
          type: string
          enum: [visual, auditory, kinesthetic, reading_writing, multimodal]
          description: Preferred learning style
        pace_preference:
          type: string
          enum: [slow, moderate, fast, adaptive]
          description: Preferred learning pace
        feedback_frequency:
          type: string
          enum: [immediate, periodic, milestone_based, on_demand]
          description: Preferred feedback frequency
        complexity_preference:
          type: string
          enum: [simple, moderate, complex, adaptive]
          description: Preferred information complexity

    MemoryIntegrationStatus:
      type: object
      properties:
        integration_level:
          type: string
          enum: [basic, standard, enhanced, comprehensive]
          description: Memory integration sophistication
        memory_spaces_active:
          type: array
          items:
            type: string
          description: Active memory spaces
        family_sync_status:
          type: string
          enum: [active, partial, limited, disabled]
          description: Family memory synchronization status
        learning_progress:
          type: object
          description: Memory-driven learning progress
        adaptation_insights:
          type: object
          description: Memory-driven adaptation insights

    RelationshipSummary:
      type: object
      properties:
        total_relationships:
          type: integer
          description: Total number of family relationships
        active_relationships:
          type: integer
          description: Number of active relationships
        primary_relationships:
          type: array
          items:
            $ref: '#/components/schemas/PrimaryRelationshipInfo'
          description: Key family relationships
        interaction_frequency:
          type: object
          description: Family interaction frequency patterns
        collaboration_patterns:
          type: object
          description: Family collaboration patterns

    PrimaryRelationshipInfo:
      type: object
      properties:
        relationship_id:
          type: string
          format: uuid
          description: Relationship identifier
        related_user_id:
          type: string
          format: uuid
          description: Related family member's user ID
        relationship_type:
          type: string
          description: Type of relationship
        relationship_strength:
          type: string
          enum: [weak, moderate, strong, very_strong]
          description: Relationship strength indicator
        interaction_frequency:
          type: string
          enum: [rare, occasional, regular, frequent, constant]
          description: Interaction frequency
        last_interaction:
          type: string
          format: date-time
          description: Last interaction timestamp

    ProfileUpdateRequest:
      type: object
      properties:
        basic_info_updates:
          $ref: '#/components/schemas/BasicInfoUpdates'
        cognitive_preferences_updates:
          $ref: '#/components/schemas/CognitivePreferencesUpdates'
        family_context_updates:
          $ref: '#/components/schemas/FamilyContextUpdates'
        privacy_settings_updates:
          $ref: '#/components/schemas/PrivacySettingsUpdates'
        notification_preferences:
          $ref: '#/components/schemas/NotificationPreferences'
        update_reason:
          type: string
          description: Reason for profile update

    BasicInfoUpdates:
      type: object
      properties:
        display_name:
          type: string
          description: Updated display name
        bio:
          type: string
          description: Updated biography
        preferred_language:
          type: string
          description: Updated preferred language
        timezone:
          type: string
          description: Updated timezone
        phone:
          type: string
          description: Updated phone number

    CognitivePreferencesUpdates:
      type: object
      properties:
        communication_style:
          type: string
          description: Updated communication style preference
        learning_preferences:
          $ref: '#/components/schemas/LearningPreferences'
        interaction_preferences:
          type: object
          description: Updated interaction preferences
        adaptation_preferences:
          type: object
          description: Updated AI adaptation preferences

    FamilyContextUpdates:
      type: object
      properties:
        coordination_level:
          type: string
          enum: [minimal, standard, enhanced, maximum]
          description: Updated family coordination level
        role_preferences:
          type: object
          description: Updated family role preferences
        responsibility_updates:
          type: array
          items:
            type: string
          description: Updated family responsibilities

    PrivacySettingsUpdates:
      type: object
      properties:
        memory_sharing_level:
          type: string
          enum: [minimal, selective, open, family_coordinator]
          description: Updated memory sharing level
        profile_visibility:
          type: string
          enum: [private, family_only, extended_family, public]
          description: Updated profile visibility
        data_retention_preferences:
          type: object
          description: Updated data retention preferences

    NotificationPreferences:
      type: object
      properties:
        family_notifications:
          type: boolean
          description: Enable family notifications
        profile_updates:
          type: boolean
          description: Enable profile update notifications
        relationship_changes:
          type: boolean
          description: Enable relationship change notifications
        cognitive_insights:
          type: boolean
          description: Enable cognitive insight notifications

    ProfileUpdateResponse:
      type: object
      required:
        - update_id
        - status
        - updated_fields
      properties:
        update_id:
          type: string
          format: uuid
          description: Update operation identifier
        status:
          type: string
          enum: [completed, partial, pending_validation, failed]
          description: Update operation status
        updated_fields:
          type: array
          items:
            type: string
          description: List of successfully updated fields
        validation_warnings:
          type: array
          items:
            type: string
          description: Validation warnings
        family_impact_assessment:
          type: object
          description: Assessment of update impact on family coordination
        next_steps:
          type: array
          items:
            type: string
          description: Recommended next steps

    CognitivePreferencesResponse:
      type: object
      properties:
        user_id:
          type: string
          format: uuid
          description: User identifier
        cognitive_profile:
          $ref: '#/components/schemas/CognitiveProfileInfo'
        memory_driven_insights:
          type: object
          description: Insights derived from memory patterns
        family_influence_patterns:
          type: object
          description: Family influence on cognitive preferences
        adaptation_recommendations:
          type: object
          description: Recommended adaptations based on memory learning
        last_learning_update:
          type: string
          format: date-time
          description: Last cognitive learning update

    CognitivePreferencesUpdateRequest:
      type: object
      properties:
        learning_preferences:
          $ref: '#/components/schemas/LearningPreferences'
        communication_style_updates:
          type: object
          description: Communication style preference updates
        interaction_pattern_updates:
          type: object
          description: Interaction pattern preference updates
        ai_behavior_preferences:
          type: object
          description: AI behavior preference updates
        family_coordination_preferences:
          type: object
          description: Family coordination preference updates

    FamilyRelationshipsResponse:
      type: object
      properties:
        user_id:
          type: string
          format: uuid
          description: User identifier
        relationships:
          type: array
          items:
            $ref: '#/components/schemas/FamilyRelationship'
          description: List of family relationships
        relationship_insights:
          type: object
          description: Memory-driven relationship insights
        family_dynamics:
          type: object
          description: Family dynamic patterns
        coordination_status:
          type: object
          description: Family coordination status

    FamilyRelationship:
      type: object
      properties:
        relationship_id:
          type: string
          format: uuid
          description: Relationship identifier
        related_user_id:
          type: string
          format: uuid
          description: Related family member's user ID
        relationship_type:
          type: string
          enum: [parent, child, spouse, partner, sibling, grandparent, grandchild, extended_family, close_friend]
          description: Type of relationship
        relationship_status:
          type: string
          enum: [active, pending, limited, suspended]
          description: Relationship status
        memory_sharing_level:
          type: string
          enum: [minimal, selective, standard, comprehensive]
          description: Memory sharing level with this family member
        interaction_patterns:
          type: object
          description: Interaction pattern analysis
        relationship_strength:
          type: string
          enum: [weak, moderate, strong, very_strong]
          description: Relationship strength indicator
        established_date:
          type: string
          format: date-time
          description: Relationship establishment date

    AddFamilyRelationshipRequest:
      type: object
      required:
        - related_user_identifier
        - relationship_type
      properties:
        related_user_identifier:
          type: string
          description: Email or user ID of family member
        relationship_type:
          type: string
          enum: [parent, child, spouse, partner, sibling, grandparent, grandchild, extended_family, close_friend]
          description: Type of relationship
        memory_sharing_level:
          type: string
          enum: [minimal, selective, standard, comprehensive]
          default: standard
          description: Initial memory sharing level
        relationship_details:
          type: object
          description: Additional relationship details
        invitation_message:
          type: string
          description: Personal message for relationship invitation

    FamilyRelationshipResponse:
      type: object
      properties:
        relationship_id:
          type: string
          format: uuid
          description: Relationship identifier
        status:
          type: string
          enum: [established, pending_approval, invitation_sent, failed]
          description: Relationship establishment status
        relationship_details:
          $ref: '#/components/schemas/FamilyRelationship'
        family_impact:
          type: object
          description: Impact on family dynamics and coordination
        next_steps:
          type: array
          items:
            type: string
          description: Next steps for relationship establishment

    DetailedFamilyRelationshipResponse:
      type: object
      properties:
        relationship_details:
          $ref: '#/components/schemas/FamilyRelationship'
        interaction_history:
          type: object
          description: Historical interaction patterns
        memory_sharing_insights:
          type: object
          description: Memory sharing pattern insights
        collaboration_patterns:
          type: object
          description: Collaboration pattern analysis
        relationship_evolution:
          type: object
          description: Relationship development over time
        coordination_effectiveness:
          type: object
          description: Family coordination effectiveness metrics

    UpdateFamilyRelationshipRequest:
      type: object
      properties:
        memory_sharing_level:
          type: string
          enum: [minimal, selective, standard, comprehensive]
          description: Updated memory sharing level
        relationship_preferences:
          type: object
          description: Updated relationship preferences
        coordination_preferences:
          type: object
          description: Updated coordination preferences
        privacy_adjustments:
          type: object
          description: Privacy setting adjustments for this relationship

    PrivacySettingsResponse:
      type: object
      properties:
        user_id:
          type: string
          format: uuid
          description: User identifier
        global_privacy_level:
          type: string
          enum: [minimal, standard, enhanced, family_coordinator]
          description: Global privacy level
        memory_sharing_settings:
          type: object
          description: Memory sharing privacy settings
        profile_visibility_settings:
          type: object
          description: Profile visibility settings
        family_coordination_privacy:
          type: object
          description: Family coordination privacy settings
        data_retention_settings:
          type: object
          description: Data retention and deletion settings
        relationship_specific_settings:
          type: array
          items:
            type: object
          description: Privacy settings specific to relationships

    PrivacySettingsUpdateRequest:
      type: object
      properties:
        global_privacy_level:
          type: string
          enum: [minimal, standard, enhanced, family_coordinator]
          description: Updated global privacy level
        memory_sharing_updates:
          type: object
          description: Memory sharing privacy updates
        profile_visibility_updates:
          type: object
          description: Profile visibility updates
        family_coordination_updates:
          type: object
          description: Family coordination privacy updates
        data_retention_updates:
          type: object
          description: Data retention setting updates

    DeviceProfilesResponse:
      type: object
      properties:
        user_id:
          type: string
          format: uuid
          description: User identifier
        device_profiles:
          type: array
          items:
            $ref: '#/components/schemas/DeviceProfile'
          description: List of device-specific profiles
        sync_status:
          type: object
          description: Cross-device synchronization status
        family_coordination_status:
          type: object
          description: Family coordination status across devices

    DeviceProfile:
      type: object
      properties:
        device_id:
          type: string
          format: uuid
          description: Device identifier
        device_info:
          $ref: '#/components/schemas/DeviceInfo'
        profile_customizations:
          type: object
          description: Device-specific profile customizations
        memory_optimization:
          type: object
          description: Memory-driven device optimizations
        family_sync_settings:
          type: object
          description: Family synchronization settings
        performance_profile:
          type: string
          enum: [battery_saver, balanced, performance, custom]
          description: Device performance profile
        last_sync:
          type: string
          format: date-time
          description: Last synchronization timestamp

    DeviceInfo:
      type: object
      properties:
        device_type:
          type: string
          enum: [smartphone, tablet, laptop, desktop, smart_speaker, smart_display, wearable, other]
          description: Type of device
        device_model:
          type: string
          description: Device model
        operating_system:
          type: string
          description: Operating system and version
        capabilities:
          type: array
          items:
            type: string
          description: Device capabilities

    CreateDeviceProfileRequest:
      type: object
      required:
        - device_info
        - profile_preferences
      properties:
        device_info:
          $ref: '#/components/schemas/DeviceInfo'
        profile_preferences:
          type: object
          description: Initial profile preferences for device
        sync_preferences:
          type: object
          description: Synchronization preferences
        family_coordination_preferences:
          type: object
          description: Family coordination preferences for device

    DeviceProfileResponse:
      type: object
      properties:
        device_profile_id:
          type: string
          format: uuid
          description: Device profile identifier
        status:
          type: string
          enum: [created, syncing, active, error]
          description: Device profile status
        profile_details:
          $ref: '#/components/schemas/DeviceProfile'
        sync_configuration:
          type: object
          description: Synchronization configuration
        optimization_recommendations:
          type: object
          description: Device optimization recommendations

    DetailedDeviceProfileResponse:
      type: object
      properties:
        device_profile:
          $ref: '#/components/schemas/DeviceProfile'
        usage_analytics:
          type: object
          description: Device usage analytics
        memory_optimization_insights:
          type: object
          description: Memory-driven optimization insights
        family_coordination_metrics:
          type: object
          description: Family coordination effectiveness metrics
        performance_recommendations:
          type: object
          description: Performance optimization recommendations

    UpdateDeviceProfileRequest:
      type: object
      properties:
        profile_customizations:
          type: object
          description: Updated profile customizations
        sync_preferences:
          type: object
          description: Updated synchronization preferences
        performance_settings:
          type: object
          description: Updated performance settings
        family_coordination_settings:
          type: object
          description: Updated family coordination settings

    AccessibilitySettingsResponse:
      type: object
      properties:
        user_id:
          type: string
          format: uuid
          description: User identifier
        accessibility_profile:
          type: object
          description: Comprehensive accessibility profile
        adaptive_accommodations:
          type: object
          description: Memory-driven adaptive accommodations
        family_support_coordination:
          type: object
          description: Family support coordination settings
        device_specific_settings:
          type: array
          items:
            type: object
          description: Device-specific accessibility settings

    AccessibilitySettingsUpdateRequest:
      type: object
      properties:
        visual_accommodations:
          type: object
          description: Visual accessibility accommodations
        auditory_accommodations:
          type: object
          description: Auditory accessibility accommodations
        motor_accommodations:
          type: object
          description: Motor accessibility accommodations
        cognitive_accommodations:
          type: object
          description: Cognitive accessibility accommodations
        family_support_preferences:
          type: object
          description: Family support coordination preferences

    ProfileAnalyticsResponse:
      type: object
      properties:
        user_id:
          type: string
          format: uuid
          description: User identifier
        analytics_period:
          type: object
          description: Analytics time period information
        profile_evolution:
          type: object
          description: Profile evolution patterns over time
        memory_integration_metrics:
          type: object
          description: Memory integration effectiveness metrics
        family_interaction_analytics:
          type: object
          description: Family interaction pattern analytics
        cognitive_development_insights:
          type: object
          description: Cognitive development and adaptation insights
        relationship_development:
          type: object
          description: Relationship development analytics
        privacy_and_sharing_patterns:
          type: object
          description: Privacy and sharing behavior patterns
        device_usage_analytics:
          type: object
          description: Cross-device usage pattern analytics
        recommendations:
          type: object
          description: Personalized recommendations for profile optimization

  responses:
    BadRequest:
      description: Bad request - invalid input parameters
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'

    NotFound:
      description: Resource not found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'

    Forbidden:
      description: Access forbidden - insufficient permissions
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'

    ConflictError:
      description: Conflict - resource already exists
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'

    ErrorResponse:
      type: object
      required:
        - error
        - message
      properties:
        error:
          type: string
          description: Error code
        message:
          type: string
          description: Human-readable error message
        details:
          type: object
          description: Additional error details
        trace_id:
          type: string
          description: Request trace identifier
